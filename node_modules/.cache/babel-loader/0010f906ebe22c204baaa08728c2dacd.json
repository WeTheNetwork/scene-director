{"ast":null,"code":"// Screen Director Reference\nimport { Workflow as _Workflow } from '../bin/ScreenDirector.js'; // Support Library Reference\n\nimport GUI from 'lil-gui';\nimport * as THREE from 'three';\nimport { OrbitControls } from '../lib/OrbitControls.js'; // Workflow Implementation\n\nclass Workflow extends _Workflow {\n  constructor() {\n    super(...arguments);\n    this.elevated_vars = {\n      \"u_name\": \"\"\n    };\n\n    this.ActivateOrbitControls = async screenplay => {\n      if (!screenplay.controls.orbit_controls) {\n        screenplay.controls.orbit_controls = new OrbitControls(screenplay.active_cam, screenplay.renderer.domElement);\n        screenplay.controls.orbit_controls.zoomSpeed = 4;\n        screenplay.controls.orbit_controls.enableDamping = true;\n        screenplay.controls.orbit_controls.saveState();\n      }\n\n      screenplay.controls.orbit_controls.release_distance = 1 + screenplay.controls.orbit_controls.getDistance();\n      screenplay.updatables.set('controls', screenplay.controls.orbit_controls);\n      screenplay.active_cam.user_control = true;\n      screenplay.active_cam.updateProjectionMatrix();\n      screenplay.controls.orbit_controls.enabled = true;\n    };\n\n    this.DeactivateOrbitControls = async screenplay => {\n      screenplay.controls.orbit_controls.reset();\n      screenplay.actions.change_cam(screenplay.active_cam.name);\n      screenplay.controls.orbit_controls.enabled = false;\n      screenplay.updatables.delete('controls');\n      screenplay.active_cam.user_control = false;\n    };\n\n    this.confirm_privileges = async (dictum_name, director, ndx) => {\n      console.log('Workflow.confirm_privileges');\n      let proceed = window.confirm('Scene Director Loaded: \"Shall we proceed?\"');\n      if (proceed) director.emit(`${dictum_name}_progress`, dictum_name, ndx);else {\n        let patience = Math.random() * 10 > 5 ? true : false;\n\n        if (!patience) {\n          window.alert('Out of patience... proceeding.');\n          director.emit(`${dictum_name}_failure`, dictum_name, ndx);\n        } else {\n          director.emit(`${dictum_name}_progress`, dictum_name, ndx);\n        }\n      }\n    };\n\n    this.verify_capabilities = async (dictum_name, director, ndx) => {\n      console.log('Workflow.verify_capabilities');\n      navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      }).then(stream => {\n        window.localStream = stream; // A\n\n        window.localAudio.srcObject = stream; // B\n\n        window.localAudio.autoplay = true; // C\n      }).catch(err => {\n        console.log(\"u got an error:\" + err);\n      }).finally(_ => {\n        director.emit(`${dictum_name}_progress`, dictum_name, ndx);\n      });\n    };\n\n    this.introduction = async (dictum_name, director, ndx) => {\n      console.log('Workflow.introduction');\n      window.alert('Howdy!  This is where I introduce myself.  Though it appears as though I am a basic page with archaic pop-up modals... I am actually an orchestrated set of directions which collaborate with the User Interface in order to perform elaborate animations during transitions; making it possible for you to create an immersive 3D worldscape for your online experience!');\n      setTimeout((dictum_name, director, ndx) => {\n        director.emit(`${dictum_name}_progress`, dictum_name, ndx);\n      }, 5000);\n    };\n\n    this.user_introduction = async (dictum_name, director, ndx) => {\n      console.log('Workflow.user_introduction');\n\n      let _x = this.elevated_vars.u_name = window.prompt('What name would you like to be known by?');\n\n      this.elevated_vars.u_name = _x === null || _x.match(/[^\\s]/gi) === null ? 'stranger' : _x;\n      director.emit(`${dictum_name}_progress`, dictum_name, ndx);\n    };\n\n    this.ready_for_user = async (dictum_name, director, ndx) => {\n      console.log('Workflow.ready_for_user');\n      window.alert(`Okay ${this.elevated_vars.u_name}, now I'm ready for you.`);\n      director.emit(`${dictum_name}_progress`, dictum_name, ndx);\n    };\n  }\n\n}\n\nexport { Workflow };","map":{"version":3,"names":["Workflow","_Workflow","GUI","THREE","OrbitControls","elevated_vars","ActivateOrbitControls","screenplay","controls","orbit_controls","active_cam","renderer","domElement","zoomSpeed","enableDamping","saveState","release_distance","getDistance","updatables","set","user_control","updateProjectionMatrix","enabled","DeactivateOrbitControls","reset","actions","change_cam","name","delete","confirm_privileges","dictum_name","director","ndx","console","log","proceed","window","confirm","emit","patience","Math","random","alert","verify_capabilities","navigator","mediaDevices","getUserMedia","video","audio","then","stream","localStream","localAudio","srcObject","autoplay","catch","err","finally","_","introduction","setTimeout","user_introduction","_x","u_name","prompt","match","ready_for_user"],"sources":["C:/Phox.Solutions/Workshop/GitHub-Repos/WeTheNetwork/scene-director/src/implementation/Workflow.js"],"sourcesContent":["// Screen Director Reference\r\nimport { Workflow as _Workflow } from '../bin/ScreenDirector.js';\r\n// Support Library Reference\r\nimport GUI from 'lil-gui';\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from '../lib/OrbitControls.js';\r\n\r\n// Workflow Implementation\r\nclass Workflow extends _Workflow{\r\n  elevated_vars = {\r\n    \"u_name\": \"\"\r\n  }\r\n\r\n  ActivateOrbitControls = async ( screenplay )=>{\r\n    if( !screenplay.controls.orbit_controls ) {\r\n      screenplay.controls.orbit_controls = new OrbitControls( screenplay.active_cam, screenplay.renderer.domElement );\r\n      screenplay.controls.orbit_controls.zoomSpeed = 4;\r\n      screenplay.controls.orbit_controls.enableDamping = true;\r\n      screenplay.controls.orbit_controls.saveState();\r\n    }\r\n\r\n    screenplay.controls.orbit_controls.release_distance = 1 + screenplay.controls.orbit_controls.getDistance();\r\n    screenplay.updatables.set( 'controls', screenplay.controls.orbit_controls );\r\n    screenplay.active_cam.user_control = true;\r\n    screenplay.active_cam.updateProjectionMatrix();\r\n    screenplay.controls.orbit_controls.enabled = true;\r\n  }\r\n\r\n  DeactivateOrbitControls = async ( screenplay )=>{\r\n    screenplay.controls.orbit_controls.reset();\r\n    screenplay.actions.change_cam( screenplay.active_cam.name );\r\n    screenplay.controls.orbit_controls.enabled = false;\r\n    screenplay.updatables.delete( 'controls' );\r\n    screenplay.active_cam.user_control = false;\r\n  }\r\n\r\n  confirm_privileges = async ( dictum_name, director, ndx ) => {\r\n    console.log('Workflow.confirm_privileges');\r\n    let proceed = window.confirm('Scene Director Loaded: \"Shall we proceed?\"');\r\n    if( proceed ) director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n    else {\r\n      let patience = (Math.random() * 10) > 5 ? true : false;\r\n      if( !patience ){\r\n        window.alert( 'Out of patience... proceeding.' );\r\n        director.emit( `${dictum_name}_failure`, dictum_name, ndx );\r\n      } else {\r\n        director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n      }\r\n    }\r\n  };\r\n  verify_capabilities = async ( dictum_name, director, ndx ) => {\r\n    console.log( 'Workflow.verify_capabilities' );\r\n    navigator.mediaDevices.getUserMedia({video: true, audio: true}).then( stream => {\r\n        window.localStream = stream; // A\r\n        window.localAudio.srcObject = stream; // B\r\n        window.localAudio.autoplay = true; // C\r\n    }).catch( err => {\r\n        console.log(\"u got an error:\" + err)\r\n    }).finally( _ => {\r\n      director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n    });\r\n  };\r\n  introduction = async ( dictum_name, director, ndx ) => {\r\n    console.log('Workflow.introduction');\r\n    window.alert( 'Howdy!  This is where I introduce myself.  Though it appears as though I am a basic page with archaic pop-up modals... I am actually an orchestrated set of directions which collaborate with the User Interface in order to perform elaborate animations during transitions; making it possible for you to create an immersive 3D worldscape for your online experience!' );\r\n    setTimeout( (dictum_name, director, ndx)=>{\r\n      director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n    }, 5000 );\r\n  };\r\n  user_introduction = async ( dictum_name, director, ndx ) => {\r\n    console.log('Workflow.user_introduction');\r\n    let _x = this.elevated_vars.u_name = window.prompt( 'What name would you like to be known by?' );\r\n    this.elevated_vars.u_name = ( _x === null || _x.match(/[^\\s]/gi) === null ) ? 'stranger' : _x;\r\n    director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n  };\r\n  ready_for_user = async ( dictum_name, director, ndx ) => {\r\n    console.log('Workflow.ready_for_user');\r\n    window.alert( `Okay ${ this.elevated_vars.u_name }, now I'm ready for you.` );\r\n    director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n  };\r\n}\r\n\r\nexport { Workflow }\r\n"],"mappings":"AAAA;AACA,SAASA,QAAQ,IAAIC,SAArB,QAAsC,0BAAtC,C,CACA;;AACA,OAAOC,GAAP,MAAgB,SAAhB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,aAAT,QAA8B,yBAA9B,C,CAEA;;AACA,MAAMJ,QAAN,SAAuBC,SAAvB,CAAgC;EAAA;IAAA;IAAA,KAC9BI,aAD8B,GACd;MACd,UAAU;IADI,CADc;;IAAA,KAK9BC,qBAL8B,GAKN,MAAQC,UAAR,IAAsB;MAC5C,IAAI,CAACA,UAAU,CAACC,QAAX,CAAoBC,cAAzB,EAA0C;QACxCF,UAAU,CAACC,QAAX,CAAoBC,cAApB,GAAqC,IAAIL,aAAJ,CAAmBG,UAAU,CAACG,UAA9B,EAA0CH,UAAU,CAACI,QAAX,CAAoBC,UAA9D,CAArC;QACAL,UAAU,CAACC,QAAX,CAAoBC,cAApB,CAAmCI,SAAnC,GAA+C,CAA/C;QACAN,UAAU,CAACC,QAAX,CAAoBC,cAApB,CAAmCK,aAAnC,GAAmD,IAAnD;QACAP,UAAU,CAACC,QAAX,CAAoBC,cAApB,CAAmCM,SAAnC;MACD;;MAEDR,UAAU,CAACC,QAAX,CAAoBC,cAApB,CAAmCO,gBAAnC,GAAsD,IAAIT,UAAU,CAACC,QAAX,CAAoBC,cAApB,CAAmCQ,WAAnC,EAA1D;MACAV,UAAU,CAACW,UAAX,CAAsBC,GAAtB,CAA2B,UAA3B,EAAuCZ,UAAU,CAACC,QAAX,CAAoBC,cAA3D;MACAF,UAAU,CAACG,UAAX,CAAsBU,YAAtB,GAAqC,IAArC;MACAb,UAAU,CAACG,UAAX,CAAsBW,sBAAtB;MACAd,UAAU,CAACC,QAAX,CAAoBC,cAApB,CAAmCa,OAAnC,GAA6C,IAA7C;IACD,CAlB6B;;IAAA,KAoB9BC,uBApB8B,GAoBJ,MAAQhB,UAAR,IAAsB;MAC9CA,UAAU,CAACC,QAAX,CAAoBC,cAApB,CAAmCe,KAAnC;MACAjB,UAAU,CAACkB,OAAX,CAAmBC,UAAnB,CAA+BnB,UAAU,CAACG,UAAX,CAAsBiB,IAArD;MACApB,UAAU,CAACC,QAAX,CAAoBC,cAApB,CAAmCa,OAAnC,GAA6C,KAA7C;MACAf,UAAU,CAACW,UAAX,CAAsBU,MAAtB,CAA8B,UAA9B;MACArB,UAAU,CAACG,UAAX,CAAsBU,YAAtB,GAAqC,KAArC;IACD,CA1B6B;;IAAA,KA4B9BS,kBA5B8B,GA4BT,OAAQC,WAAR,EAAqBC,QAArB,EAA+BC,GAA/B,KAAwC;MAC3DC,OAAO,CAACC,GAAR,CAAY,6BAAZ;MACA,IAAIC,OAAO,GAAGC,MAAM,CAACC,OAAP,CAAe,4CAAf,CAAd;MACA,IAAIF,OAAJ,EAAcJ,QAAQ,CAACO,IAAT,CAAgB,GAAER,WAAY,WAA9B,EAA0CA,WAA1C,EAAuDE,GAAvD,EAAd,KACK;QACH,IAAIO,QAAQ,GAAIC,IAAI,CAACC,MAAL,KAAgB,EAAjB,GAAuB,CAAvB,GAA2B,IAA3B,GAAkC,KAAjD;;QACA,IAAI,CAACF,QAAL,EAAe;UACbH,MAAM,CAACM,KAAP,CAAc,gCAAd;UACAX,QAAQ,CAACO,IAAT,CAAgB,GAAER,WAAY,UAA9B,EAAyCA,WAAzC,EAAsDE,GAAtD;QACD,CAHD,MAGO;UACLD,QAAQ,CAACO,IAAT,CAAgB,GAAER,WAAY,WAA9B,EAA0CA,WAA1C,EAAuDE,GAAvD;QACD;MACF;IACF,CAzC6B;;IAAA,KA0C9BW,mBA1C8B,GA0CR,OAAQb,WAAR,EAAqBC,QAArB,EAA+BC,GAA/B,KAAwC;MAC5DC,OAAO,CAACC,GAAR,CAAa,8BAAb;MACAU,SAAS,CAACC,YAAV,CAAuBC,YAAvB,CAAoC;QAACC,KAAK,EAAE,IAAR;QAAcC,KAAK,EAAE;MAArB,CAApC,EAAgEC,IAAhE,CAAsEC,MAAM,IAAI;QAC5Ed,MAAM,CAACe,WAAP,GAAqBD,MAArB,CAD4E,CAC/C;;QAC7Bd,MAAM,CAACgB,UAAP,CAAkBC,SAAlB,GAA8BH,MAA9B,CAF4E,CAEtC;;QACtCd,MAAM,CAACgB,UAAP,CAAkBE,QAAlB,GAA6B,IAA7B,CAH4E,CAGzC;MACtC,CAJD,EAIGC,KAJH,CAIUC,GAAG,IAAI;QACbvB,OAAO,CAACC,GAAR,CAAY,oBAAoBsB,GAAhC;MACH,CAND,EAMGC,OANH,CAMYC,CAAC,IAAI;QACf3B,QAAQ,CAACO,IAAT,CAAgB,GAAER,WAAY,WAA9B,EAA0CA,WAA1C,EAAuDE,GAAvD;MACD,CARD;IASD,CArD6B;;IAAA,KAsD9B2B,YAtD8B,GAsDf,OAAQ7B,WAAR,EAAqBC,QAArB,EAA+BC,GAA/B,KAAwC;MACrDC,OAAO,CAACC,GAAR,CAAY,uBAAZ;MACAE,MAAM,CAACM,KAAP,CAAc,2WAAd;MACAkB,UAAU,CAAE,CAAC9B,WAAD,EAAcC,QAAd,EAAwBC,GAAxB,KAA8B;QACxCD,QAAQ,CAACO,IAAT,CAAgB,GAAER,WAAY,WAA9B,EAA0CA,WAA1C,EAAuDE,GAAvD;MACD,CAFS,EAEP,IAFO,CAAV;IAGD,CA5D6B;;IAAA,KA6D9B6B,iBA7D8B,GA6DV,OAAQ/B,WAAR,EAAqBC,QAArB,EAA+BC,GAA/B,KAAwC;MAC1DC,OAAO,CAACC,GAAR,CAAY,4BAAZ;;MACA,IAAI4B,EAAE,GAAG,KAAKzD,aAAL,CAAmB0D,MAAnB,GAA4B3B,MAAM,CAAC4B,MAAP,CAAe,0CAAf,CAArC;;MACA,KAAK3D,aAAL,CAAmB0D,MAAnB,GAA8BD,EAAE,KAAK,IAAP,IAAeA,EAAE,CAACG,KAAH,CAAS,SAAT,MAAwB,IAAzC,GAAkD,UAAlD,GAA+DH,EAA3F;MACA/B,QAAQ,CAACO,IAAT,CAAgB,GAAER,WAAY,WAA9B,EAA0CA,WAA1C,EAAuDE,GAAvD;IACD,CAlE6B;;IAAA,KAmE9BkC,cAnE8B,GAmEb,OAAQpC,WAAR,EAAqBC,QAArB,EAA+BC,GAA/B,KAAwC;MACvDC,OAAO,CAACC,GAAR,CAAY,yBAAZ;MACAE,MAAM,CAACM,KAAP,CAAe,QAAQ,KAAKrC,aAAL,CAAmB0D,MAAQ,0BAAlD;MACAhC,QAAQ,CAACO,IAAT,CAAgB,GAAER,WAAY,WAA9B,EAA0CA,WAA1C,EAAuDE,GAAvD;IACD,CAvE6B;EAAA;;AAAA;;AA0EhC,SAAShC,QAAT"},"metadata":{},"sourceType":"module"}