{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _createClass from\"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _inherits from\"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createSuper.js\";// Screen Director Reference\nimport{Workflow as _Workflow}from'../bin/ScreenDirector.js';// Support Library Reference\nimport GUI from'lil-gui';import*as THREE from'three';import{OrbitControls}from'../lib/OrbitControls.js';// Workflow Implementation\nvar Workflow=/*#__PURE__*/function(_Workflow2){_inherits(Workflow,_Workflow2);var _super=_createSuper(Workflow);function Workflow(){var _this;_classCallCheck(this,Workflow);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.elevated_vars={\"u_name\":\"\"};_this.ActivateOrbitControls=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(screenplay){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!screenplay.controls.orbit_controls){screenplay.controls.orbit_controls=new OrbitControls(screenplay.active_cam,screenplay.renderer.domElement);screenplay.controls.orbit_controls.zoomSpeed=4;screenplay.controls.orbit_controls.enableDamping=true;screenplay.controls.orbit_controls.saveState();}screenplay.controls.orbit_controls.release_distance=1+screenplay.controls.orbit_controls.getDistance();screenplay.updatables.set('controls',screenplay.controls.orbit_controls);screenplay.active_cam.user_control=true;screenplay.active_cam.updateProjectionMatrix();screenplay.controls.orbit_controls.enabled=true;case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref.apply(this,arguments);};}();_this.DeactivateOrbitControls=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(screenplay){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:screenplay.controls.orbit_controls.reset();screenplay.actions.change_cam(screenplay.active_cam.name);screenplay.controls.orbit_controls.enabled=false;screenplay.updatables.delete('controls');screenplay.active_cam.user_control=false;case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3){return _ref2.apply(this,arguments);};}();_this.confirm_privileges=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dictum_name,director,ndx){var proceed,patience;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log('Workflow.confirm_privileges');proceed=window.confirm('Scene Director Loaded: \"Shall we proceed?\"');if(proceed)director.emit(\"\".concat(dictum_name,\"_progress\"),dictum_name,ndx);else{patience=Math.random()*10>5?true:false;if(!patience){window.alert('Out of patience... proceeding.');director.emit(\"\".concat(dictum_name,\"_failure\"),dictum_name,ndx);}else{director.emit(\"\".concat(dictum_name,\"_progress\"),dictum_name,ndx);}}case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4,_x5,_x6){return _ref3.apply(this,arguments);};}();_this.verify_capabilities=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dictum_name,director,ndx){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log('Workflow.verify_capabilities');navigator.mediaDevices.getUserMedia({video:true,audio:true}).then(function(stream){window.localStream=stream;// A\nwindow.localAudio.srcObject=stream;// B\nwindow.localAudio.autoplay=true;// C\n}).catch(function(err){console.log(\"u got an error:\"+err);}).finally(function(_){director.emit(\"\".concat(dictum_name,\"_progress\"),dictum_name,ndx);});case 2:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x7,_x8,_x9){return _ref4.apply(this,arguments);};}();_this.introduction=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(dictum_name,director,ndx){return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log('Workflow.introduction');window.alert('Howdy!  This is where I introduce myself.  Though it appears as though I am a basic page with archaic pop-up modals... I am actually an orchestrated set of directions which collaborate with the User Interface in order to perform elaborate animations during transitions; making it possible for you to create an immersive 3D worldscape for your online experience!');setTimeout(function(dictum_name,director,ndx){director.emit(\"\".concat(dictum_name,\"_progress\"),dictum_name,ndx);},5000,dictum_name,director,ndx);case 3:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x10,_x11,_x12){return _ref5.apply(this,arguments);};}();_this.user_introduction=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(dictum_name,director,ndx){var _x;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log('Workflow.user_introduction');_x=_this.elevated_vars.u_name=window.prompt('What name would you like to be known by?');_this.elevated_vars.u_name=_x===null||_x.match(/[^\\s]/gi)===null?'stranger':_x;director.emit(\"\".concat(dictum_name,\"_progress\"),dictum_name,ndx);case 4:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x13,_x14,_x15){return _ref6.apply(this,arguments);};}();_this.ready_for_user=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(dictum_name,director,ndx){return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log('Workflow.ready_for_user');window.alert(\"Okay \".concat(_this.elevated_vars.u_name,\", now I'm ready for you.\"));director.emit(\"\".concat(dictum_name,\"_progress\"),dictum_name,ndx);case 3:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x16,_x17,_x18){return _ref7.apply(this,arguments);};}();return _this;}return _createClass(Workflow);}(_Workflow);export{Workflow};","map":{"version":3,"names":["Workflow","_Workflow","GUI","THREE","OrbitControls","elevated_vars","ActivateOrbitControls","screenplay","controls","orbit_controls","active_cam","renderer","domElement","zoomSpeed","enableDamping","saveState","release_distance","getDistance","updatables","set","user_control","updateProjectionMatrix","enabled","DeactivateOrbitControls","reset","actions","change_cam","name","delete","confirm_privileges","dictum_name","director","ndx","console","log","proceed","window","confirm","emit","patience","Math","random","alert","verify_capabilities","navigator","mediaDevices","getUserMedia","video","audio","then","stream","localStream","localAudio","srcObject","autoplay","catch","err","finally","_","introduction","setTimeout","user_introduction","_x","u_name","prompt","match","ready_for_user"],"sources":["C:/Phox.Solutions/Workshop/GitHub-Repos/WeTheNetwork/scene-director/src/implementation/Workflow.js"],"sourcesContent":["// Screen Director Reference\r\nimport { Workflow as _Workflow } from '../bin/ScreenDirector.js';\r\n// Support Library Reference\r\nimport GUI from 'lil-gui';\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from '../lib/OrbitControls.js';\r\n\r\n// Workflow Implementation\r\nclass Workflow extends _Workflow{\r\n  elevated_vars = {\r\n    \"u_name\": \"\"\r\n  }\r\n\r\n  ActivateOrbitControls = async ( screenplay )=>{\r\n    if( !screenplay.controls.orbit_controls ) {\r\n      screenplay.controls.orbit_controls = new OrbitControls( screenplay.active_cam, screenplay.renderer.domElement );\r\n      screenplay.controls.orbit_controls.zoomSpeed = 4;\r\n      screenplay.controls.orbit_controls.enableDamping = true;\r\n      screenplay.controls.orbit_controls.saveState();\r\n    }\r\n\r\n    screenplay.controls.orbit_controls.release_distance = 1 + screenplay.controls.orbit_controls.getDistance();\r\n    screenplay.updatables.set( 'controls', screenplay.controls.orbit_controls );\r\n    screenplay.active_cam.user_control = true;\r\n    screenplay.active_cam.updateProjectionMatrix();\r\n    screenplay.controls.orbit_controls.enabled = true;\r\n  }\r\n\r\n  DeactivateOrbitControls = async ( screenplay )=>{\r\n    screenplay.controls.orbit_controls.reset();\r\n    screenplay.actions.change_cam( screenplay.active_cam.name );\r\n    screenplay.controls.orbit_controls.enabled = false;\r\n    screenplay.updatables.delete( 'controls' );\r\n    screenplay.active_cam.user_control = false;\r\n  }\r\n\r\n  confirm_privileges = async ( dictum_name, director, ndx ) => {\r\n    console.log('Workflow.confirm_privileges');\r\n    let proceed = window.confirm('Scene Director Loaded: \"Shall we proceed?\"');\r\n    if( proceed ) director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n    else {\r\n      let patience = (Math.random() * 10) > 5 ? true : false;\r\n      if( !patience ){\r\n        window.alert( 'Out of patience... proceeding.' );\r\n        director.emit( `${dictum_name}_failure`, dictum_name, ndx );\r\n      } else {\r\n        director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n      }\r\n    }\r\n  };\r\n  verify_capabilities = async ( dictum_name, director, ndx ) => {\r\n    console.log( 'Workflow.verify_capabilities' );\r\n    navigator.mediaDevices.getUserMedia({video: true, audio: true}).then( stream => {\r\n        window.localStream = stream; // A\r\n        window.localAudio.srcObject = stream; // B\r\n        window.localAudio.autoplay = true; // C\r\n    }).catch( err => {\r\n        console.log(\"u got an error:\" + err)\r\n    }).finally( _ => {\r\n      director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n    });\r\n  };\r\n  introduction = async ( dictum_name, director, ndx ) => {\r\n    console.log('Workflow.introduction');\r\n    window.alert( 'Howdy!  This is where I introduce myself.  Though it appears as though I am a basic page with archaic pop-up modals... I am actually an orchestrated set of directions which collaborate with the User Interface in order to perform elaborate animations during transitions; making it possible for you to create an immersive 3D worldscape for your online experience!' );\r\n    setTimeout( (dictum_name, director, ndx)=>{\r\n      director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n    }, 5000, dictum_name, director, ndx );\r\n  };\r\n  user_introduction = async ( dictum_name, director, ndx ) => {\r\n    console.log('Workflow.user_introduction');\r\n    let _x = this.elevated_vars.u_name = window.prompt( 'What name would you like to be known by?' );\r\n    this.elevated_vars.u_name = ( _x === null || _x.match(/[^\\s]/gi) === null ) ? 'stranger' : _x;\r\n    director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n  };\r\n  ready_for_user = async ( dictum_name, director, ndx ) => {\r\n    console.log('Workflow.ready_for_user');\r\n    window.alert( `Okay ${ this.elevated_vars.u_name }, now I'm ready for you.` );\r\n    director.emit( `${dictum_name}_progress`, dictum_name, ndx );\r\n  };\r\n}\r\n\r\nexport { Workflow }\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}