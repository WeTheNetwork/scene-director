{"ast":null,"code":"import _slicedToArray from \"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _inherits from \"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/SJayc/AppData/Roaming/npm/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\n/**\n * lil-gui\n * https://lil-gui.georgealways.com\n * @version 0.16.1\n * @author George Michael Brower\n * @license MIT\n */\n\n/**\n * Base class for all controllers.\n */\nvar Controller = /*#__PURE__*/function () {\n  function Controller(parent, object, property, className) {\n    var widgetTag = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'div';\n\n    _classCallCheck(this, Controller);\n\n    /**\n     * The GUI that contains this controller.\n     * @type {GUI}\n     */\n    this.parent = parent;\n    /**\n     * The object this controller will modify.\n     * @type {object}\n     */\n\n    this.object = object;\n    /**\n     * The name of the property to control.\n     * @type {string}\n     */\n\n    this.property = property;\n    /**\n     * Used to determine if the controller is disabled.\n     * Use `controller.disable( true|false )` to modify this value\n     * @type {boolean}\n     */\n\n    this._disabled = false;\n    /**\n     * The value of `object[ property ]` when the controller was created.\n     * @type {any}\n     */\n\n    this.initialValue = this.getValue();\n    /**\n     * The outermost container DOM element for this controller.\n     * @type {HTMLElement}\n     */\n\n    this.domElement = document.createElement('div');\n    this.domElement.classList.add('controller');\n    this.domElement.classList.add(className);\n    /**\n     * The DOM element that contains the controller's name.\n     * @type {HTMLElement}\n     */\n\n    this.$name = document.createElement('div');\n    this.$name.classList.add('name');\n    Controller.nextNameID = Controller.nextNameID || 0;\n    this.$name.id = \"lil-gui-name-\".concat(++Controller.nextNameID);\n    /**\n     * The DOM element that contains the controller's \"widget\" (which differs by controller type).\n     * @type {HTMLElement}\n     */\n\n    this.$widget = document.createElement(widgetTag);\n    this.$widget.classList.add('widget');\n    /**\n     * The DOM element that receives the disabled attribute when using disable()\n     * @type {HTMLElement}\n     */\n\n    this.$disable = this.$widget;\n    this.domElement.appendChild(this.$name);\n    this.domElement.appendChild(this.$widget);\n    this.parent.children.push(this);\n    this.parent.controllers.push(this);\n    this.parent.$children.appendChild(this.domElement);\n    this._listenCallback = this._listenCallback.bind(this);\n    this.name(property);\n  }\n  /**\n   * Sets the name of the controller and its label in the GUI.\n   * @param {string} name\n   * @returns {this}\n   */\n\n\n  _createClass(Controller, [{\n    key: \"name\",\n    value: function name(_name) {\n      /**\n       * The controller's name. Use `controller.name( 'Name' )` to modify this value.\n       * @type {string}\n       */\n      this._name = _name;\n      this.$name.innerHTML = _name;\n      return this;\n    }\n    /**\n     * Pass a function to be called whenever the value is modified by this controller.\n     * The function receives the new value as its first parameter. The value of `this` will be the\n     * controller.\n     * @param {Function} callback\n     * @returns {this}\n     * @example\n     * const controller = gui.add( object, 'property' );\n     *\n     * controller.onChange( function( v ) {\n     * \tconsole.log( 'The value is now ' + v );\n     * \tconsole.assert( this === controller );\n     * } );\n     */\n\n  }, {\n    key: \"onChange\",\n    value: function onChange(callback) {\n      /**\n       * Used to access the function bound to `onChange` events. Don't modify this value directly.\n       * Use the `controller.onChange( callback )` method instead.\n       * @type {Function}\n       */\n      this._onChange = callback;\n      return this;\n    }\n    /**\n     * Calls the onChange methods of this controller and its parent GUI.\n     * @protected\n     */\n\n  }, {\n    key: \"_callOnChange\",\n    value: function _callOnChange() {\n      this.parent._callOnChange(this);\n\n      if (this._onChange !== undefined) {\n        this._onChange.call(this, this.getValue());\n      }\n\n      this._changed = true;\n    }\n    /**\n     * Pass a function to be called after this controller has been modified and loses focus.\n     * @param {Function} callback\n     * @returns {this}\n     * @example\n     * const controller = gui.add( object, 'property' );\n     *\n     * controller.onFinishChange( function( v ) {\n     * \tconsole.log( 'Changes complete: ' + v );\n     * \tconsole.assert( this === controller );\n     * } );\n     */\n\n  }, {\n    key: \"onFinishChange\",\n    value: function onFinishChange(callback) {\n      /**\n       * Used to access the function bound to `onFinishChange` events. Don't modify this value\n       * directly. Use the `controller.onFinishChange( callback )` method instead.\n       * @type {Function}\n       */\n      this._onFinishChange = callback;\n      return this;\n    }\n    /**\n     * Should be called by Controller when its widgets lose focus.\n     * @protected\n     */\n\n  }, {\n    key: \"_callOnFinishChange\",\n    value: function _callOnFinishChange() {\n      if (this._changed) {\n        this.parent._callOnFinishChange(this);\n\n        if (this._onFinishChange !== undefined) {\n          this._onFinishChange.call(this, this.getValue());\n        }\n      }\n\n      this._changed = false;\n    }\n    /**\n     * Sets the controller back to its initial value.\n     * @returns {this}\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.setValue(this.initialValue);\n\n      this._callOnFinishChange();\n\n      return this;\n    }\n    /**\n     * Enables this controller.\n     * @param {boolean} enabled\n     * @returns {this}\n     * @example\n     * controller.enable();\n     * controller.enable( false ); // disable\n     * controller.enable( controller._disabled ); // toggle\n     */\n\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      return this.disable(!enabled);\n    }\n    /**\n     * Disables this controller.\n     * @param {boolean} disabled\n     * @returns {this}\n     * @example\n     * controller.disable();\n     * controller.disable( false ); // enable\n     * controller.disable( !controller._disabled ); // toggle\n     */\n\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      var disabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (disabled === this._disabled) return this;\n      this._disabled = disabled;\n      this.domElement.classList.toggle('disabled', disabled);\n      this.$disable.toggleAttribute('disabled', disabled);\n      return this;\n    }\n    /**\n     * Destroys this controller and replaces it with a new option controller. Provided as a more\n     * descriptive syntax for `gui.add`, but primarily for compatibility with dat.gui.\n     *\n     * Use caution, as this method will destroy old references to this controller. It will also\n     * change controller order if called out of sequence, moving the option controller to the end of\n     * the GUI.\n     * @example\n     * // safe usage\n     *\n     * gui.add( object1, 'property' ).options( [ 'a', 'b', 'c' ] );\n     * gui.add( object2, 'property' );\n     *\n     * // danger\n     *\n     * const c = gui.add( object1, 'property' );\n     * gui.add( object2, 'property' );\n     *\n     * c.options( [ 'a', 'b', 'c' ] );\n     * // controller is now at the end of the GUI even though it was added first\n     *\n     * assert( c.parent.children.indexOf( c ) === -1 )\n     * // c references a controller that no longer exists\n     *\n     * @param {object|Array} options\n     * @returns {Controller}\n     */\n\n  }, {\n    key: \"options\",\n    value: function options(_options) {\n      var controller = this.parent.add(this.object, this.property, _options);\n      controller.name(this._name);\n      this.destroy();\n      return controller;\n    }\n    /**\n     * Sets the minimum value. Only works on number controllers.\n     * @param {number} min\n     * @returns {this}\n     */\n\n  }, {\n    key: \"min\",\n    value: function min(_min) {\n      return this;\n    }\n    /**\n     * Sets the maximum value. Only works on number controllers.\n     * @param {number} max\n     * @returns {this}\n     */\n\n  }, {\n    key: \"max\",\n    value: function max(_max) {\n      return this;\n    }\n    /**\n     * Sets the step. Only works on number controllers.\n     * @param {number} step\n     * @returns {this}\n     */\n\n  }, {\n    key: \"step\",\n    value: function step(_step) {\n      return this;\n    }\n    /**\n     * Calls `updateDisplay()` every animation frame. Pass `false` to stop listening.\n     * @param {boolean} listen\n     * @returns {this}\n     */\n\n  }, {\n    key: \"listen\",\n    value: function listen() {\n      var _listen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      /**\n       * Used to determine if the controller is currently listening. Don't modify this value\n       * directly. Use the `controller.listen( true|false )` method instead.\n       * @type {boolean}\n       */\n      this._listening = _listen;\n\n      if (this._listenCallbackID !== undefined) {\n        cancelAnimationFrame(this._listenCallbackID);\n        this._listenCallbackID = undefined;\n      }\n\n      if (this._listening) {\n        this._listenCallback();\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_listenCallback\",\n    value: function _listenCallback() {\n      this._listenCallbackID = requestAnimationFrame(this._listenCallback); // To prevent framerate loss, make sure the value has changed before updating the display.\n      // Note: save() is used here instead of getValue() only because of ColorController. The !== operator\n      // won't work for color objects or arrays, but ColorController.save() always returns a string.\n\n      var curValue = this.save();\n\n      if (curValue !== this._listenPrevValue) {\n        this.updateDisplay();\n      }\n\n      this._listenPrevValue = curValue;\n    }\n    /**\n     * Returns `object[ property ]`.\n     * @returns {any}\n     */\n\n  }, {\n    key: \"getValue\",\n    value: function getValue() {\n      return this.object[this.property];\n    }\n    /**\n     * Sets the value of `object[ property ]`, invokes any `onChange` handlers and updates the display.\n     * @param {any} value\n     * @returns {this}\n     */\n\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      this.object[this.property] = value;\n\n      this._callOnChange();\n\n      this.updateDisplay();\n      return this;\n    }\n    /**\n     * Updates the display to keep it in sync with the current value. Useful for updating your\n     * controllers when their values have been modified outside of the GUI.\n     * @returns {this}\n     */\n\n  }, {\n    key: \"updateDisplay\",\n    value: function updateDisplay() {\n      return this;\n    }\n  }, {\n    key: \"load\",\n    value: function load(value) {\n      this.setValue(value);\n\n      this._callOnFinishChange();\n\n      return this;\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      return this.getValue();\n    }\n    /**\n     * Destroys this controller and removes it from the parent GUI.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.listen(false);\n      this.parent.children.splice(this.parent.children.indexOf(this), 1);\n      this.parent.controllers.splice(this.parent.controllers.indexOf(this), 1);\n      this.parent.$children.removeChild(this.domElement);\n    }\n  }]);\n\n  return Controller;\n}();\n\nvar BooleanController = /*#__PURE__*/function (_Controller) {\n  _inherits(BooleanController, _Controller);\n\n  var _super = _createSuper(BooleanController);\n\n  function BooleanController(parent, object, property) {\n    var _this;\n\n    _classCallCheck(this, BooleanController);\n\n    _this = _super.call(this, parent, object, property, 'boolean', 'label');\n    _this.$input = document.createElement('input');\n\n    _this.$input.setAttribute('type', 'checkbox');\n\n    _this.$input.setAttribute('aria-labelledby', _this.$name.id);\n\n    _this.$widget.appendChild(_this.$input);\n\n    _this.$input.addEventListener('change', function () {\n      _this.setValue(_this.$input.checked);\n\n      _this._callOnFinishChange();\n    });\n\n    _this.$disable = _this.$input;\n\n    _this.updateDisplay();\n\n    return _this;\n  }\n\n  _createClass(BooleanController, [{\n    key: \"updateDisplay\",\n    value: function updateDisplay() {\n      this.$input.checked = this.getValue();\n      return this;\n    }\n  }]);\n\n  return BooleanController;\n}(Controller);\n\nfunction normalizeColorString(string) {\n  var match, result;\n\n  if (match = string.match(/(#|0x)?([a-f0-9]{6})/i)) {\n    result = match[2];\n  } else if (match = string.match(/rgb\\(\\s*(\\d*)\\s*,\\s*(\\d*)\\s*,\\s*(\\d*)\\s*\\)/)) {\n    result = parseInt(match[1]).toString(16).padStart(2, 0) + parseInt(match[2]).toString(16).padStart(2, 0) + parseInt(match[3]).toString(16).padStart(2, 0);\n  } else if (match = string.match(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i)) {\n    result = match[1] + match[1] + match[2] + match[2] + match[3] + match[3];\n  }\n\n  if (result) {\n    return '#' + result;\n  }\n\n  return false;\n}\n\nvar STRING = {\n  isPrimitive: true,\n  match: function match(v) {\n    return typeof v === 'string';\n  },\n  fromHexString: normalizeColorString,\n  toHexString: normalizeColorString\n};\nvar INT = {\n  isPrimitive: true,\n  match: function match(v) {\n    return typeof v === 'number';\n  },\n  fromHexString: function fromHexString(string) {\n    return parseInt(string.substring(1), 16);\n  },\n  toHexString: function toHexString(value) {\n    return '#' + value.toString(16).padStart(6, 0);\n  }\n};\nvar ARRAY = {\n  isPrimitive: false,\n  match: Array.isArray,\n  fromHexString: function fromHexString(string, target) {\n    var rgbScale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var int = INT.fromHexString(string);\n    target[0] = (int >> 16 & 255) / 255 * rgbScale;\n    target[1] = (int >> 8 & 255) / 255 * rgbScale;\n    target[2] = (int & 255) / 255 * rgbScale;\n  },\n  toHexString: function toHexString(_ref) {\n    var _ref2 = _slicedToArray(_ref, 3),\n        r = _ref2[0],\n        g = _ref2[1],\n        b = _ref2[2];\n\n    var rgbScale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    rgbScale = 255 / rgbScale;\n    var int = r * rgbScale << 16 ^ g * rgbScale << 8 ^ b * rgbScale << 0;\n    return INT.toHexString(int);\n  }\n};\nvar OBJECT = {\n  isPrimitive: false,\n  match: function match(v) {\n    return Object(v) === v;\n  },\n  fromHexString: function fromHexString(string, target) {\n    var rgbScale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var int = INT.fromHexString(string);\n    target.r = (int >> 16 & 255) / 255 * rgbScale;\n    target.g = (int >> 8 & 255) / 255 * rgbScale;\n    target.b = (int & 255) / 255 * rgbScale;\n  },\n  toHexString: function toHexString(_ref3) {\n    var r = _ref3.r,\n        g = _ref3.g,\n        b = _ref3.b;\n    var rgbScale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n    rgbScale = 255 / rgbScale;\n    var int = r * rgbScale << 16 ^ g * rgbScale << 8 ^ b * rgbScale << 0;\n    return INT.toHexString(int);\n  }\n};\nvar FORMATS = [STRING, INT, ARRAY, OBJECT];\n\nfunction getColorFormat(value) {\n  return FORMATS.find(function (format) {\n    return format.match(value);\n  });\n}\n\nvar ColorController = /*#__PURE__*/function (_Controller2) {\n  _inherits(ColorController, _Controller2);\n\n  var _super2 = _createSuper(ColorController);\n\n  function ColorController(parent, object, property, rgbScale) {\n    var _this2;\n\n    _classCallCheck(this, ColorController);\n\n    _this2 = _super2.call(this, parent, object, property, 'color');\n    _this2.$input = document.createElement('input');\n\n    _this2.$input.setAttribute('type', 'color');\n\n    _this2.$input.setAttribute('tabindex', -1);\n\n    _this2.$input.setAttribute('aria-labelledby', _this2.$name.id);\n\n    _this2.$text = document.createElement('input');\n\n    _this2.$text.setAttribute('type', 'text');\n\n    _this2.$text.setAttribute('spellcheck', 'false');\n\n    _this2.$text.setAttribute('aria-labelledby', _this2.$name.id);\n\n    _this2.$display = document.createElement('div');\n\n    _this2.$display.classList.add('display');\n\n    _this2.$display.appendChild(_this2.$input);\n\n    _this2.$widget.appendChild(_this2.$display);\n\n    _this2.$widget.appendChild(_this2.$text);\n\n    _this2._format = getColorFormat(_this2.initialValue);\n    _this2._rgbScale = rgbScale;\n    _this2._initialValueHexString = _this2.save();\n    _this2._textFocused = false;\n\n    _this2.$input.addEventListener('input', function () {\n      _this2._setValueFromHexString(_this2.$input.value);\n    });\n\n    _this2.$input.addEventListener('blur', function () {\n      _this2._callOnFinishChange();\n    });\n\n    _this2.$text.addEventListener('input', function () {\n      var tryParse = normalizeColorString(_this2.$text.value);\n\n      if (tryParse) {\n        _this2._setValueFromHexString(tryParse);\n      }\n    });\n\n    _this2.$text.addEventListener('focus', function () {\n      _this2._textFocused = true;\n\n      _this2.$text.select();\n    });\n\n    _this2.$text.addEventListener('blur', function () {\n      _this2._textFocused = false;\n\n      _this2.updateDisplay();\n\n      _this2._callOnFinishChange();\n    });\n\n    _this2.$disable = _this2.$text;\n\n    _this2.updateDisplay();\n\n    return _this2;\n  }\n\n  _createClass(ColorController, [{\n    key: \"reset\",\n    value: function reset() {\n      this._setValueFromHexString(this._initialValueHexString);\n\n      return this;\n    }\n  }, {\n    key: \"_setValueFromHexString\",\n    value: function _setValueFromHexString(value) {\n      if (this._format.isPrimitive) {\n        var newValue = this._format.fromHexString(value);\n\n        this.setValue(newValue);\n      } else {\n        this._format.fromHexString(value, this.getValue(), this._rgbScale);\n\n        this._callOnChange();\n\n        this.updateDisplay();\n      }\n    }\n  }, {\n    key: \"save\",\n    value: function save() {\n      return this._format.toHexString(this.getValue(), this._rgbScale);\n    }\n  }, {\n    key: \"load\",\n    value: function load(value) {\n      this._setValueFromHexString(value);\n\n      this._callOnFinishChange();\n\n      return this;\n    }\n  }, {\n    key: \"updateDisplay\",\n    value: function updateDisplay() {\n      this.$input.value = this._format.toHexString(this.getValue(), this._rgbScale);\n\n      if (!this._textFocused) {\n        this.$text.value = this.$input.value.substring(1);\n      }\n\n      this.$display.style.backgroundColor = this.$input.value;\n      return this;\n    }\n  }]);\n\n  return ColorController;\n}(Controller);\n\nvar FunctionController = /*#__PURE__*/function (_Controller3) {\n  _inherits(FunctionController, _Controller3);\n\n  var _super3 = _createSuper(FunctionController);\n\n  function FunctionController(parent, object, property) {\n    var _this3;\n\n    _classCallCheck(this, FunctionController);\n\n    _this3 = _super3.call(this, parent, object, property, 'function'); // Buttons are the only case where widget contains name\n\n    _this3.$button = document.createElement('button');\n\n    _this3.$button.appendChild(_this3.$name);\n\n    _this3.$widget.appendChild(_this3.$button);\n\n    _this3.$button.addEventListener('click', function (e) {\n      e.preventDefault();\n\n      _this3.getValue().call(_this3.object);\n    }); // enables :active pseudo class on mobile\n\n\n    _this3.$button.addEventListener('touchstart', function () {}, {\n      passive: true\n    });\n\n    _this3.$disable = _this3.$button;\n    return _this3;\n  }\n\n  return _createClass(FunctionController);\n}(Controller);\n\nvar NumberController = /*#__PURE__*/function (_Controller4) {\n  _inherits(NumberController, _Controller4);\n\n  var _super4 = _createSuper(NumberController);\n\n  function NumberController(parent, object, property, min, max, step) {\n    var _this4;\n\n    _classCallCheck(this, NumberController);\n\n    _this4 = _super4.call(this, parent, object, property, 'number');\n\n    _this4._initInput();\n\n    _this4.min(min);\n\n    _this4.max(max);\n\n    var stepExplicit = step !== undefined;\n\n    _this4.step(stepExplicit ? step : _this4._getImplicitStep(), stepExplicit);\n\n    _this4.updateDisplay();\n\n    return _this4;\n  }\n\n  _createClass(NumberController, [{\n    key: \"min\",\n    value: function min(_min2) {\n      this._min = _min2;\n\n      this._onUpdateMinMax();\n\n      return this;\n    }\n  }, {\n    key: \"max\",\n    value: function max(_max2) {\n      this._max = _max2;\n\n      this._onUpdateMinMax();\n\n      return this;\n    }\n  }, {\n    key: \"step\",\n    value: function step(_step2) {\n      var explicit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      this._step = _step2;\n      this._stepExplicit = explicit;\n      return this;\n    }\n  }, {\n    key: \"updateDisplay\",\n    value: function updateDisplay() {\n      var value = this.getValue();\n\n      if (this._hasSlider) {\n        var percent = (value - this._min) / (this._max - this._min);\n        percent = Math.max(0, Math.min(percent, 1));\n        this.$fill.style.width = percent * 100 + '%';\n      }\n\n      if (!this._inputFocused) {\n        this.$input.value = value;\n      }\n\n      return this;\n    }\n  }, {\n    key: \"_initInput\",\n    value: function _initInput() {\n      var _this5 = this;\n\n      this.$input = document.createElement('input');\n      this.$input.setAttribute('type', 'number');\n      this.$input.setAttribute('step', 'any');\n      this.$input.setAttribute('aria-labelledby', this.$name.id);\n      this.$widget.appendChild(this.$input);\n      this.$disable = this.$input;\n\n      var onInput = function onInput() {\n        var value = parseFloat(_this5.$input.value);\n        if (isNaN(value)) return;\n\n        _this5.setValue(_this5._clamp(value));\n      }; // Keys & mouse wheel\n      // ---------------------------------------------------------------------\n\n\n      var increment = function increment(delta) {\n        var value = parseFloat(_this5.$input.value);\n        if (isNaN(value)) return;\n\n        _this5._snapClampSetValue(value + delta); // Force the input to updateDisplay when it's focused\n\n\n        _this5.$input.value = _this5.getValue();\n      };\n\n      var onKeyDown = function onKeyDown(e) {\n        if (e.code === 'Enter') {\n          _this5.$input.blur();\n        }\n\n        if (e.code === 'ArrowUp') {\n          e.preventDefault();\n          increment(_this5._step * _this5._arrowKeyMultiplier(e));\n        }\n\n        if (e.code === 'ArrowDown') {\n          e.preventDefault();\n          increment(_this5._step * _this5._arrowKeyMultiplier(e) * -1);\n        }\n      };\n\n      var onWheel = function onWheel(e) {\n        if (_this5._inputFocused) {\n          e.preventDefault();\n          increment(_this5._step * _this5._normalizeMouseWheel(e));\n        }\n      }; // Vertical drag\n      // ---------------------------------------------------------------------\n\n\n      var testingForVerticalDrag = false,\n          initClientX,\n          initClientY,\n          prevClientY,\n          initValue,\n          dragDelta; // Once the mouse is dragged more than DRAG_THRESH px on any axis, we decide\n      // on the user's intent: horizontal means highlight, vertical means drag.\n\n      var DRAG_THRESH = 5;\n\n      var onMouseDown = function onMouseDown(e) {\n        initClientX = e.clientX;\n        initClientY = prevClientY = e.clientY;\n        testingForVerticalDrag = true;\n        initValue = _this5.getValue();\n        dragDelta = 0;\n        window.addEventListener('mousemove', onMouseMove);\n        window.addEventListener('mouseup', onMouseUp);\n      };\n\n      var onMouseMove = function onMouseMove(e) {\n        if (testingForVerticalDrag) {\n          var dx = e.clientX - initClientX;\n          var dy = e.clientY - initClientY;\n\n          if (Math.abs(dy) > DRAG_THRESH) {\n            e.preventDefault();\n\n            _this5.$input.blur();\n\n            testingForVerticalDrag = false;\n\n            _this5._setDraggingStyle(true, 'vertical');\n          } else if (Math.abs(dx) > DRAG_THRESH) {\n            onMouseUp();\n          }\n        } // This isn't an else so that the first move counts towards dragDelta\n\n\n        if (!testingForVerticalDrag) {\n          var _dy = e.clientY - prevClientY;\n\n          dragDelta -= _dy * _this5._step * _this5._arrowKeyMultiplier(e); // Clamp dragDelta so we don't have 'dead space' after dragging past bounds.\n          // We're okay with the fact that bounds can be undefined here.\n\n          if (initValue + dragDelta > _this5._max) {\n            dragDelta = _this5._max - initValue;\n          } else if (initValue + dragDelta < _this5._min) {\n            dragDelta = _this5._min - initValue;\n          }\n\n          _this5._snapClampSetValue(initValue + dragDelta);\n        }\n\n        prevClientY = e.clientY;\n      };\n\n      var onMouseUp = function onMouseUp() {\n        _this5._setDraggingStyle(false, 'vertical');\n\n        _this5._callOnFinishChange();\n\n        window.removeEventListener('mousemove', onMouseMove);\n        window.removeEventListener('mouseup', onMouseUp);\n      }; // Focus state & onFinishChange\n      // ---------------------------------------------------------------------\n\n\n      var onFocus = function onFocus() {\n        _this5._inputFocused = true;\n      };\n\n      var onBlur = function onBlur() {\n        _this5._inputFocused = false;\n\n        _this5.updateDisplay();\n\n        _this5._callOnFinishChange();\n      };\n\n      this.$input.addEventListener('input', onInput);\n      this.$input.addEventListener('keydown', onKeyDown);\n      this.$input.addEventListener('wheel', onWheel, {\n        passive: false\n      });\n      this.$input.addEventListener('mousedown', onMouseDown);\n      this.$input.addEventListener('focus', onFocus);\n      this.$input.addEventListener('blur', onBlur);\n    }\n  }, {\n    key: \"_initSlider\",\n    value: function _initSlider() {\n      var _this6 = this;\n\n      this._hasSlider = true; // Build DOM\n      // ---------------------------------------------------------------------\n\n      this.$slider = document.createElement('div');\n      this.$slider.classList.add('slider');\n      this.$fill = document.createElement('div');\n      this.$fill.classList.add('fill');\n      this.$slider.appendChild(this.$fill);\n      this.$widget.insertBefore(this.$slider, this.$input);\n      this.domElement.classList.add('hasSlider'); // Map clientX to value\n      // ---------------------------------------------------------------------\n\n      var map = function map(v, a, b, c, d) {\n        return (v - a) / (b - a) * (d - c) + c;\n      };\n\n      var setValueFromX = function setValueFromX(clientX) {\n        var rect = _this6.$slider.getBoundingClientRect();\n\n        var value = map(clientX, rect.left, rect.right, _this6._min, _this6._max);\n\n        _this6._snapClampSetValue(value);\n      }; // Mouse drag\n      // ---------------------------------------------------------------------\n\n\n      var mouseDown = function mouseDown(e) {\n        _this6._setDraggingStyle(true);\n\n        setValueFromX(e.clientX);\n        window.addEventListener('mousemove', mouseMove);\n        window.addEventListener('mouseup', mouseUp);\n      };\n\n      var mouseMove = function mouseMove(e) {\n        setValueFromX(e.clientX);\n      };\n\n      var mouseUp = function mouseUp() {\n        _this6._callOnFinishChange();\n\n        _this6._setDraggingStyle(false);\n\n        window.removeEventListener('mousemove', mouseMove);\n        window.removeEventListener('mouseup', mouseUp);\n      }; // Touch drag\n      // ---------------------------------------------------------------------\n\n\n      var testingForScroll = false,\n          prevClientX,\n          prevClientY;\n\n      var beginTouchDrag = function beginTouchDrag(e) {\n        e.preventDefault();\n\n        _this6._setDraggingStyle(true);\n\n        setValueFromX(e.touches[0].clientX);\n        testingForScroll = false;\n      };\n\n      var onTouchStart = function onTouchStart(e) {\n        if (e.touches.length > 1) return; // If we're in a scrollable container, we should wait for the first\n        // touchmove to see if the user is trying to slide or scroll.\n\n        if (_this6._hasScrollBar) {\n          prevClientX = e.touches[0].clientX;\n          prevClientY = e.touches[0].clientY;\n          testingForScroll = true;\n        } else {\n          // Otherwise, we can set the value straight away on touchstart.\n          beginTouchDrag(e);\n        }\n\n        window.addEventListener('touchmove', onTouchMove);\n        window.addEventListener('touchend', onTouchEnd);\n      };\n\n      var onTouchMove = function onTouchMove(e) {\n        if (testingForScroll) {\n          var dx = e.touches[0].clientX - prevClientX;\n          var dy = e.touches[0].clientY - prevClientY;\n\n          if (Math.abs(dx) > Math.abs(dy)) {\n            // We moved horizontally, set the value and stop checking.\n            beginTouchDrag(e);\n          } else {\n            // This was, in fact, an attempt to scroll. Abort.\n            window.removeEventListener('touchmove', onTouchMove);\n            window.removeEventListener('touchend', onTouchEnd);\n          }\n        } else {\n          e.preventDefault();\n          setValueFromX(e.touches[0].clientX);\n        }\n      };\n\n      var onTouchEnd = function onTouchEnd() {\n        _this6._callOnFinishChange();\n\n        _this6._setDraggingStyle(false);\n\n        window.removeEventListener('touchmove', onTouchMove);\n        window.removeEventListener('touchend', onTouchEnd);\n      }; // Mouse wheel\n      // ---------------------------------------------------------------------\n      // We have to use a debounced function to call onFinishChange because\n      // there's no way to tell when the user is \"done\" mouse-wheeling.\n\n\n      var callOnFinishChange = this._callOnFinishChange.bind(this);\n\n      var WHEEL_DEBOUNCE_TIME = 400;\n      var wheelFinishChangeTimeout;\n\n      var onWheel = function onWheel(e) {\n        // ignore vertical wheels if there's a scrollbar\n        var isVertical = Math.abs(e.deltaX) < Math.abs(e.deltaY);\n        if (isVertical && _this6._hasScrollBar) return;\n        e.preventDefault(); // set value\n\n        var delta = _this6._normalizeMouseWheel(e) * _this6._step;\n\n        _this6._snapClampSetValue(_this6.getValue() + delta); // force the input to updateDisplay when it's focused\n\n\n        _this6.$input.value = _this6.getValue(); // debounce onFinishChange\n\n        clearTimeout(wheelFinishChangeTimeout);\n        wheelFinishChangeTimeout = setTimeout(callOnFinishChange, WHEEL_DEBOUNCE_TIME);\n      };\n\n      this.$slider.addEventListener('mousedown', mouseDown);\n      this.$slider.addEventListener('touchstart', onTouchStart, {\n        passive: false\n      });\n      this.$slider.addEventListener('wheel', onWheel, {\n        passive: false\n      });\n    }\n  }, {\n    key: \"_setDraggingStyle\",\n    value: function _setDraggingStyle(active) {\n      var axis = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'horizontal';\n\n      if (this.$slider) {\n        this.$slider.classList.toggle('active', active);\n      }\n\n      document.body.classList.toggle('lil-gui-dragging', active);\n      document.body.classList.toggle(\"lil-gui-\".concat(axis), active);\n    }\n  }, {\n    key: \"_getImplicitStep\",\n    value: function _getImplicitStep() {\n      if (this._hasMin && this._hasMax) {\n        return (this._max - this._min) / 1000;\n      }\n\n      return 0.1;\n    }\n  }, {\n    key: \"_onUpdateMinMax\",\n    value: function _onUpdateMinMax() {\n      if (!this._hasSlider && this._hasMin && this._hasMax) {\n        // If this is the first time we're hearing about min and max\n        // and we haven't explicitly stated what our step is, let's\n        // update that too.\n        if (!this._stepExplicit) {\n          this.step(this._getImplicitStep(), false);\n        }\n\n        this._initSlider();\n\n        this.updateDisplay();\n      }\n    }\n  }, {\n    key: \"_normalizeMouseWheel\",\n    value: function _normalizeMouseWheel(e) {\n      var deltaX = e.deltaX,\n          deltaY = e.deltaY; // Safari and Chrome report weird non-integral values for a notched wheel,\n      // but still expose actual lines scrolled via wheelDelta. Notched wheels\n      // should behave the same way as arrow keys.\n\n      if (Math.floor(e.deltaY) !== e.deltaY && e.wheelDelta) {\n        deltaX = 0;\n        deltaY = -e.wheelDelta / 120;\n        deltaY *= this._stepExplicit ? 1 : 10;\n      }\n\n      var wheel = deltaX + -deltaY;\n      return wheel;\n    }\n  }, {\n    key: \"_arrowKeyMultiplier\",\n    value: function _arrowKeyMultiplier(e) {\n      var mult = this._stepExplicit ? 1 : 10;\n\n      if (e.shiftKey) {\n        mult *= 10;\n      } else if (e.altKey) {\n        mult /= 10;\n      }\n\n      return mult;\n    }\n  }, {\n    key: \"_snap\",\n    value: function _snap(value) {\n      // This would be the logical way to do things, but floating point errors.\n      // return Math.round( value / this._step ) * this._step;\n      // Using inverse step solves a lot of them, but not all\n      // const inverseStep = 1 / this._step;\n      // return Math.round( value * inverseStep ) / inverseStep;\n      // Not happy about this, but haven't seen it break.\n      var r = Math.round(value / this._step) * this._step;\n\n      return parseFloat(r.toPrecision(15));\n    }\n  }, {\n    key: \"_clamp\",\n    value: function _clamp(value) {\n      // either condition is false if min or max is undefined\n      if (value < this._min) value = this._min;\n      if (value > this._max) value = this._max;\n      return value;\n    }\n  }, {\n    key: \"_snapClampSetValue\",\n    value: function _snapClampSetValue(value) {\n      this.setValue(this._clamp(this._snap(value)));\n    }\n  }, {\n    key: \"_hasScrollBar\",\n    get: function get() {\n      var root = this.parent.root.$children;\n      return root.scrollHeight > root.clientHeight;\n    }\n  }, {\n    key: \"_hasMin\",\n    get: function get() {\n      return this._min !== undefined;\n    }\n  }, {\n    key: \"_hasMax\",\n    get: function get() {\n      return this._max !== undefined;\n    }\n  }]);\n\n  return NumberController;\n}(Controller);\n\nvar OptionController = /*#__PURE__*/function (_Controller5) {\n  _inherits(OptionController, _Controller5);\n\n  var _super5 = _createSuper(OptionController);\n\n  function OptionController(parent, object, property, options) {\n    var _this7;\n\n    _classCallCheck(this, OptionController);\n\n    _this7 = _super5.call(this, parent, object, property, 'option');\n    _this7.$select = document.createElement('select');\n\n    _this7.$select.setAttribute('aria-labelledby', _this7.$name.id);\n\n    _this7.$display = document.createElement('div');\n\n    _this7.$display.classList.add('display');\n\n    _this7._values = Array.isArray(options) ? options : Object.values(options);\n    _this7._names = Array.isArray(options) ? options : Object.keys(options);\n\n    _this7._names.forEach(function (name) {\n      var $option = document.createElement('option');\n      $option.innerHTML = name;\n\n      _this7.$select.appendChild($option);\n    });\n\n    _this7.$select.addEventListener('change', function () {\n      _this7.setValue(_this7._values[_this7.$select.selectedIndex]);\n\n      _this7._callOnFinishChange();\n    });\n\n    _this7.$select.addEventListener('focus', function () {\n      _this7.$display.classList.add('focus');\n    });\n\n    _this7.$select.addEventListener('blur', function () {\n      _this7.$display.classList.remove('focus');\n    });\n\n    _this7.$widget.appendChild(_this7.$select);\n\n    _this7.$widget.appendChild(_this7.$display);\n\n    _this7.$disable = _this7.$select;\n\n    _this7.updateDisplay();\n\n    return _this7;\n  }\n\n  _createClass(OptionController, [{\n    key: \"updateDisplay\",\n    value: function updateDisplay() {\n      var value = this.getValue();\n\n      var index = this._values.indexOf(value);\n\n      this.$select.selectedIndex = index;\n      this.$display.innerHTML = index === -1 ? value : this._names[index];\n      return this;\n    }\n  }]);\n\n  return OptionController;\n}(Controller);\n\nvar StringController = /*#__PURE__*/function (_Controller6) {\n  _inherits(StringController, _Controller6);\n\n  var _super6 = _createSuper(StringController);\n\n  function StringController(parent, object, property) {\n    var _this8;\n\n    _classCallCheck(this, StringController);\n\n    _this8 = _super6.call(this, parent, object, property, 'string');\n    _this8.$input = document.createElement('input');\n\n    _this8.$input.setAttribute('type', 'text');\n\n    _this8.$input.setAttribute('aria-labelledby', _this8.$name.id);\n\n    _this8.$input.addEventListener('input', function () {\n      _this8.setValue(_this8.$input.value);\n    });\n\n    _this8.$input.addEventListener('keydown', function (e) {\n      if (e.code === 'Enter') {\n        _this8.$input.blur();\n      }\n    });\n\n    _this8.$input.addEventListener('blur', function () {\n      _this8._callOnFinishChange();\n    });\n\n    _this8.$widget.appendChild(_this8.$input);\n\n    _this8.$disable = _this8.$input;\n\n    _this8.updateDisplay();\n\n    return _this8;\n  }\n\n  _createClass(StringController, [{\n    key: \"updateDisplay\",\n    value: function updateDisplay() {\n      this.$input.value = this.getValue();\n      return this;\n    }\n  }]);\n\n  return StringController;\n}(Controller);\n\nvar stylesheet = \".lil-gui {\\n  font-family: var(--font-family);\\n  font-size: var(--font-size);\\n  line-height: 1;\\n  font-weight: normal;\\n  font-style: normal;\\n  text-align: left;\\n  background-color: var(--background-color);\\n  color: var(--text-color);\\n  user-select: none;\\n  -webkit-user-select: none;\\n  touch-action: manipulation;\\n  --background-color: #1f1f1f;\\n  --text-color: #ebebeb;\\n  --title-background-color: #111111;\\n  --title-text-color: #ebebeb;\\n  --widget-color: #424242;\\n  --hover-color: #4f4f4f;\\n  --focus-color: #595959;\\n  --number-color: #2cc9ff;\\n  --string-color: #a2db3c;\\n  --font-size: 11px;\\n  --input-font-size: 11px;\\n  --font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Arial, sans-serif;\\n  --font-family-mono: Menlo, Monaco, Consolas, \\\"Droid Sans Mono\\\", monospace;\\n  --padding: 4px;\\n  --spacing: 4px;\\n  --widget-height: 20px;\\n  --name-width: 45%;\\n  --slider-knob-width: 2px;\\n  --slider-input-width: 27%;\\n  --color-input-width: 27%;\\n  --slider-input-min-width: 45px;\\n  --color-input-min-width: 45px;\\n  --folder-indent: 7px;\\n  --widget-padding: 0 0 0 3px;\\n  --widget-border-radius: 2px;\\n  --checkbox-size: calc(0.75 * var(--widget-height));\\n  --scrollbar-width: 5px;\\n}\\n.lil-gui, .lil-gui * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n}\\n.lil-gui.root {\\n  width: var(--width, 245px);\\n  display: flex;\\n  flex-direction: column;\\n}\\n.lil-gui.root > .title {\\n  background: var(--title-background-color);\\n  color: var(--title-text-color);\\n}\\n.lil-gui.root > .children {\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n}\\n.lil-gui.root > .children::-webkit-scrollbar {\\n  width: var(--scrollbar-width);\\n  height: var(--scrollbar-width);\\n  background: var(--background-color);\\n}\\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\\n  border-radius: var(--scrollbar-width);\\n  background: var(--focus-color);\\n}\\n@media (pointer: coarse) {\\n  .lil-gui.allow-touch-styles {\\n    --widget-height: 28px;\\n    --padding: 6px;\\n    --spacing: 6px;\\n    --font-size: 13px;\\n    --input-font-size: 16px;\\n    --folder-indent: 10px;\\n    --scrollbar-width: 7px;\\n    --slider-input-min-width: 50px;\\n    --color-input-min-width: 65px;\\n  }\\n}\\n.lil-gui.force-touch-styles {\\n  --widget-height: 28px;\\n  --padding: 6px;\\n  --spacing: 6px;\\n  --font-size: 13px;\\n  --input-font-size: 16px;\\n  --folder-indent: 10px;\\n  --scrollbar-width: 7px;\\n  --slider-input-min-width: 50px;\\n  --color-input-min-width: 65px;\\n}\\n.lil-gui.autoPlace {\\n  max-height: 100%;\\n  position: fixed;\\n  top: 0;\\n  right: 15px;\\n  z-index: 1001;\\n}\\n\\n.lil-gui .controller {\\n  display: flex;\\n  align-items: center;\\n  padding: 0 var(--padding);\\n  margin: var(--spacing) 0;\\n}\\n.lil-gui .controller.disabled {\\n  opacity: 0.5;\\n}\\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\\n  pointer-events: none !important;\\n}\\n.lil-gui .controller > .name {\\n  min-width: var(--name-width);\\n  flex-shrink: 0;\\n  white-space: pre;\\n  padding-right: var(--spacing);\\n  line-height: var(--widget-height);\\n}\\n.lil-gui .controller .widget {\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  width: 100%;\\n  min-height: var(--widget-height);\\n}\\n.lil-gui .controller.string input {\\n  color: var(--string-color);\\n}\\n.lil-gui .controller.boolean .widget {\\n  cursor: pointer;\\n}\\n.lil-gui .controller.color .display {\\n  width: 100%;\\n  height: var(--widget-height);\\n  border-radius: var(--widget-border-radius);\\n  position: relative;\\n}\\n@media (hover: hover) {\\n  .lil-gui .controller.color .display:hover:before {\\n    content: \\\" \\\";\\n    display: block;\\n    position: absolute;\\n    border-radius: var(--widget-border-radius);\\n    border: 1px solid #fff9;\\n    top: 0;\\n    right: 0;\\n    bottom: 0;\\n    left: 0;\\n  }\\n}\\n.lil-gui .controller.color input[type=color] {\\n  opacity: 0;\\n  width: 100%;\\n  height: 100%;\\n  cursor: pointer;\\n}\\n.lil-gui .controller.color input[type=text] {\\n  margin-left: var(--spacing);\\n  font-family: var(--font-family-mono);\\n  min-width: var(--color-input-min-width);\\n  width: var(--color-input-width);\\n  flex-shrink: 0;\\n}\\n.lil-gui .controller.option select {\\n  opacity: 0;\\n  position: absolute;\\n  width: 100%;\\n  max-width: 100%;\\n}\\n.lil-gui .controller.option .display {\\n  position: relative;\\n  pointer-events: none;\\n  border-radius: var(--widget-border-radius);\\n  height: var(--widget-height);\\n  line-height: var(--widget-height);\\n  max-width: 100%;\\n  overflow: hidden;\\n  word-break: break-all;\\n  padding-left: 0.55em;\\n  padding-right: 1.75em;\\n  background: var(--widget-color);\\n}\\n@media (hover: hover) {\\n  .lil-gui .controller.option .display.focus {\\n    background: var(--focus-color);\\n  }\\n}\\n.lil-gui .controller.option .display.active {\\n  background: var(--focus-color);\\n}\\n.lil-gui .controller.option .display:after {\\n  font-family: \\\"lil-gui\\\";\\n  content: \\\"\\u2195\\\";\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  padding-right: 0.375em;\\n}\\n.lil-gui .controller.option .widget,\\n.lil-gui .controller.option select {\\n  cursor: pointer;\\n}\\n@media (hover: hover) {\\n  .lil-gui .controller.option .widget:hover .display {\\n    background: var(--hover-color);\\n  }\\n}\\n.lil-gui .controller.number input {\\n  color: var(--number-color);\\n}\\n.lil-gui .controller.number.hasSlider input {\\n  margin-left: var(--spacing);\\n  width: var(--slider-input-width);\\n  min-width: var(--slider-input-min-width);\\n  flex-shrink: 0;\\n}\\n.lil-gui .controller.number .slider {\\n  width: 100%;\\n  height: var(--widget-height);\\n  background-color: var(--widget-color);\\n  border-radius: var(--widget-border-radius);\\n  padding-right: var(--slider-knob-width);\\n  overflow: hidden;\\n  cursor: ew-resize;\\n  touch-action: pan-y;\\n}\\n@media (hover: hover) {\\n  .lil-gui .controller.number .slider:hover {\\n    background-color: var(--hover-color);\\n  }\\n}\\n.lil-gui .controller.number .slider.active {\\n  background-color: var(--focus-color);\\n}\\n.lil-gui .controller.number .slider.active .fill {\\n  opacity: 0.95;\\n}\\n.lil-gui .controller.number .fill {\\n  height: 100%;\\n  border-right: var(--slider-knob-width) solid var(--number-color);\\n  box-sizing: content-box;\\n}\\n\\n.lil-gui-dragging .lil-gui {\\n  --hover-color: var(--widget-color);\\n}\\n.lil-gui-dragging * {\\n  cursor: ew-resize !important;\\n}\\n\\n.lil-gui-dragging.lil-gui-vertical * {\\n  cursor: ns-resize !important;\\n}\\n\\n.lil-gui .title {\\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\\n  height: var(--title-height);\\n  line-height: calc(var(--title-height) - 4px);\\n  font-weight: 600;\\n  padding: 0 var(--padding);\\n  -webkit-tap-highlight-color: transparent;\\n  cursor: pointer;\\n  outline: none;\\n  text-decoration-skip: objects;\\n}\\n.lil-gui .title:before {\\n  font-family: \\\"lil-gui\\\";\\n  content: \\\"\\u25BE\\\";\\n  padding-right: 2px;\\n  display: inline-block;\\n}\\n.lil-gui .title:active {\\n  background: var(--title-background-color);\\n  opacity: 0.75;\\n}\\n@media (hover: hover) {\\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\\n    background: var(--title-background-color);\\n    opacity: 0.85;\\n  }\\n  .lil-gui .title:focus {\\n    text-decoration: underline var(--focus-color);\\n  }\\n}\\n.lil-gui.root > .title:focus {\\n  text-decoration: none !important;\\n}\\n.lil-gui.closed > .title:before {\\n  content: \\\"\\u25B8\\\";\\n}\\n.lil-gui.closed > .children {\\n  transform: translateY(-7px);\\n  opacity: 0;\\n}\\n.lil-gui.closed:not(.transition) > .children {\\n  display: none;\\n}\\n.lil-gui.transition > .children {\\n  transition-duration: 300ms;\\n  transition-property: height, opacity, transform;\\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\\n  overflow: hidden;\\n  pointer-events: none;\\n}\\n.lil-gui .children:empty:before {\\n  content: \\\"Empty\\\";\\n  padding: 0 var(--padding);\\n  margin: var(--spacing) 0;\\n  display: block;\\n  height: var(--widget-height);\\n  font-style: italic;\\n  line-height: var(--widget-height);\\n  opacity: 0.5;\\n}\\n.lil-gui.root > .children > .lil-gui > .title {\\n  border: 0 solid var(--widget-color);\\n  border-width: 1px 0;\\n  transition: border-color 300ms;\\n}\\n.lil-gui.root > .children > .lil-gui.closed > .title {\\n  border-bottom-color: transparent;\\n}\\n.lil-gui + .controller {\\n  border-top: 1px solid var(--widget-color);\\n  margin-top: 0;\\n  padding-top: var(--spacing);\\n}\\n.lil-gui .lil-gui .lil-gui > .title {\\n  border: none;\\n}\\n.lil-gui .lil-gui .lil-gui > .children {\\n  border: none;\\n  margin-left: var(--folder-indent);\\n  border-left: 2px solid var(--widget-color);\\n}\\n.lil-gui .lil-gui .controller {\\n  border: none;\\n}\\n\\n.lil-gui input {\\n  -webkit-tap-highlight-color: transparent;\\n  border: 0;\\n  outline: none;\\n  font-family: var(--font-family);\\n  font-size: var(--input-font-size);\\n  border-radius: var(--widget-border-radius);\\n  height: var(--widget-height);\\n  background: var(--widget-color);\\n  color: var(--text-color);\\n  width: 100%;\\n}\\n@media (hover: hover) {\\n  .lil-gui input:hover {\\n    background: var(--hover-color);\\n  }\\n  .lil-gui input:active {\\n    background: var(--focus-color);\\n  }\\n}\\n.lil-gui input:disabled {\\n  opacity: 1;\\n}\\n.lil-gui input[type=text],\\n.lil-gui input[type=number] {\\n  padding: var(--widget-padding);\\n}\\n.lil-gui input[type=text]:focus,\\n.lil-gui input[type=number]:focus {\\n  background: var(--focus-color);\\n}\\n.lil-gui input::-webkit-outer-spin-button,\\n.lil-gui input::-webkit-inner-spin-button {\\n  -webkit-appearance: none;\\n  margin: 0;\\n}\\n.lil-gui input[type=number] {\\n  -moz-appearance: textfield;\\n}\\n.lil-gui input[type=checkbox] {\\n  appearance: none;\\n  -webkit-appearance: none;\\n  height: var(--checkbox-size);\\n  width: var(--checkbox-size);\\n  border-radius: var(--widget-border-radius);\\n  text-align: center;\\n  cursor: pointer;\\n}\\n.lil-gui input[type=checkbox]:checked:before {\\n  font-family: \\\"lil-gui\\\";\\n  content: \\\"\\u2713\\\";\\n  font-size: var(--checkbox-size);\\n  line-height: var(--checkbox-size);\\n}\\n@media (hover: hover) {\\n  .lil-gui input[type=checkbox]:focus {\\n    box-shadow: inset 0 0 0 1px var(--focus-color);\\n  }\\n}\\n.lil-gui button {\\n  -webkit-tap-highlight-color: transparent;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--font-family);\\n  font-size: var(--font-size);\\n  color: var(--text-color);\\n  width: 100%;\\n  height: var(--widget-height);\\n  text-transform: none;\\n  background: var(--widget-color);\\n  border-radius: var(--widget-border-radius);\\n  border: 1px solid var(--widget-color);\\n  text-align: center;\\n  line-height: calc(var(--widget-height) - 4px);\\n}\\n@media (hover: hover) {\\n  .lil-gui button:hover {\\n    background: var(--hover-color);\\n    border-color: var(--hover-color);\\n  }\\n  .lil-gui button:focus {\\n    border-color: var(--focus-color);\\n  }\\n}\\n.lil-gui button:active {\\n  background: var(--focus-color);\\n}\\n\\n@font-face {\\n  font-family: \\\"lil-gui\\\";\\n  src: url(\\\"data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==\\\") format(\\\"woff\\\");\\n}\";\n\nfunction _injectStyles(cssContent) {\n  var injected = document.createElement('style');\n  injected.innerHTML = cssContent;\n  var before = document.querySelector('head link[rel=stylesheet], head style');\n\n  if (before) {\n    document.head.insertBefore(injected, before);\n  } else {\n    document.head.appendChild(injected);\n  }\n}\n\nvar stylesInjected = false;\n\nvar GUI = /*#__PURE__*/function () {\n  /**\n   * Creates a panel that holds controllers.\n   * @example\n   * new GUI();\n   * new GUI( { container: document.getElementById( 'custom' ) } );\n   *\n   * @param {object} [options]\n   * @param {boolean} [options.autoPlace=true]\n   * Adds the GUI to `document.body` and fixes it to the top right of the page.\n   *\n   * @param {HTMLElement} [options.container]\n   * Adds the GUI to this DOM element. Overrides `autoPlace`.\n   *\n   * @param {number} [options.width=245]\n   * Width of the GUI in pixels, usually set when name labels become too long. Note that you can make\n   * name labels wider in CSS with `.lilgui { namewidth: 55% }`\n   *\n   * @param {string} [options.title=Controls]\n   * Name to display in the title bar.\n   *\n   * @param {boolean} [options.injectStyles=true]\n   * Injects the default stylesheet into the page if this is the first GUI.\n   * Pass `false` to use your own stylesheet.\n   *\n   * @param {number} [options.touchStyles=true]\n   * Makes controllers larger on touch devices. Pass `false` to disable touch styles.\n   *\n   * @param {GUI} [options.parent]\n   * Adds this GUI as a child in another GUI. Usually this is done for you by `addFolder()`.\n   *\n   */\n  function GUI() {\n    var _this9 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        parent = _ref4.parent,\n        _ref4$autoPlace = _ref4.autoPlace,\n        autoPlace = _ref4$autoPlace === void 0 ? parent === undefined : _ref4$autoPlace,\n        container = _ref4.container,\n        width = _ref4.width,\n        _ref4$title = _ref4.title,\n        title = _ref4$title === void 0 ? 'Controls' : _ref4$title,\n        _ref4$injectStyles = _ref4.injectStyles,\n        injectStyles = _ref4$injectStyles === void 0 ? true : _ref4$injectStyles,\n        _ref4$touchStyles = _ref4.touchStyles,\n        touchStyles = _ref4$touchStyles === void 0 ? true : _ref4$touchStyles;\n\n    _classCallCheck(this, GUI);\n\n    /**\n     * The GUI containing this folder, or `undefined` if this is the root GUI.\n     * @type {GUI}\n     */\n    this.parent = parent;\n    /**\n     * The top level GUI containing this folder, or `this` if this is the root GUI.\n     * @type {GUI}\n     */\n\n    this.root = parent ? parent.root : this;\n    /**\n     * The list of controllers and folders contained by this GUI.\n     * @type {Array<GUI|Controller>}\n     */\n\n    this.children = [];\n    /**\n     * The list of controllers contained by this GUI.\n     * @type {Array<Controller>}\n     */\n\n    this.controllers = [];\n    /**\n     * The list of folders contained by this GUI.\n     * @type {Array<GUI>}\n     */\n\n    this.folders = [];\n    /**\n     * Used to determine if the GUI is closed. Use `gui.open()` or `gui.close()` to change this.\n     * @type {boolean}\n     */\n\n    this._closed = false;\n    /**\n     * Used to determine if the GUI is hidden. Use `gui.show()` or `gui.hide()` to change this.\n     * @type {boolean}\n     */\n\n    this._hidden = false;\n    /**\n     * The outermost container element.\n     * @type {HTMLElement}\n     */\n\n    this.domElement = document.createElement('div');\n    this.domElement.classList.add('lil-gui');\n    /**\n     * The DOM element that contains the title.\n     * @type {HTMLElement}\n     */\n\n    this.$title = document.createElement('div');\n    this.$title.classList.add('title');\n    this.$title.setAttribute('role', 'button');\n    this.$title.setAttribute('aria-expanded', true);\n    this.$title.setAttribute('tabindex', 0);\n    this.$title.addEventListener('click', function () {\n      return _this9.openAnimated(_this9._closed);\n    });\n    this.$title.addEventListener('keydown', function (e) {\n      if (e.code === 'Enter' || e.code === 'Space') {\n        e.preventDefault();\n\n        _this9.$title.click();\n      }\n    }); // enables :active pseudo class on mobile\n\n    this.$title.addEventListener('touchstart', function () {}, {\n      passive: true\n    });\n    /**\n     * The DOM element that contains children.\n     * @type {HTMLElement}\n     */\n\n    this.$children = document.createElement('div');\n    this.$children.classList.add('children');\n    this.domElement.appendChild(this.$title);\n    this.domElement.appendChild(this.$children);\n    this.title(title);\n\n    if (touchStyles) {\n      this.domElement.classList.add('allow-touch-styles');\n    }\n\n    if (this.parent) {\n      this.parent.children.push(this);\n      this.parent.folders.push(this);\n      this.parent.$children.appendChild(this.domElement); // Stop the constructor early, everything onward only applies to root GUI's\n\n      return;\n    }\n\n    this.domElement.classList.add('root'); // Inject stylesheet if we haven't done that yet\n\n    if (!stylesInjected && injectStyles) {\n      _injectStyles(stylesheet);\n\n      stylesInjected = true;\n    }\n\n    if (container) {\n      container.appendChild(this.domElement);\n    } else if (autoPlace) {\n      this.domElement.classList.add('autoPlace');\n      document.body.appendChild(this.domElement);\n    }\n\n    if (width) {\n      this.domElement.style.setProperty('--width', width + 'px');\n    } // Don't fire global key events while typing in the GUI:\n\n\n    this.domElement.addEventListener('keydown', function (e) {\n      return e.stopPropagation();\n    });\n    this.domElement.addEventListener('keyup', function (e) {\n      return e.stopPropagation();\n    });\n  }\n  /**\n   * Adds a controller to the GUI, inferring controller type using the `typeof` operator.\n   * @example\n   * gui.add( object, 'property' );\n   * gui.add( object, 'number', 0, 100, 1 );\n   * gui.add( object, 'options', [ 1, 2, 3 ] );\n   *\n   * @param {object} object The object the controller will modify.\n   * @param {string} property Name of the property to control.\n   * @param {number|object|Array} [$1] Minimum value for number controllers, or the set of\n   * selectable values for a dropdown.\n   * @param {number} [max] Maximum value for number controllers.\n   * @param {number} [step] Step value for number controllers.\n   * @returns {Controller}\n   */\n\n\n  _createClass(GUI, [{\n    key: \"add\",\n    value: function add(object, property, $1, max, step) {\n      if (Object($1) === $1) {\n        return new OptionController(this, object, property, $1);\n      }\n\n      var initialValue = object[property];\n\n      switch (typeof initialValue) {\n        case 'number':\n          return new NumberController(this, object, property, $1, max, step);\n\n        case 'boolean':\n          return new BooleanController(this, object, property);\n\n        case 'string':\n          return new StringController(this, object, property);\n\n        case 'function':\n          return new FunctionController(this, object, property);\n      }\n\n      console.error(\"gui.add failed\\n\\tproperty:\", property, \"\\n\\tobject:\", object, \"\\n\\tvalue:\", initialValue);\n    }\n    /**\n     * Adds a color controller to the GUI.\n     * @example\n     * params = {\n     * \tcssColor: '#ff00ff',\n     * \trgbColor: { r: 0, g: 0.2, b: 0.4 },\n     * \tcustomRange: [ 0, 127, 255 ],\n     * };\n     *\n     * gui.addColor( params, 'cssColor' );\n     * gui.addColor( params, 'rgbColor' );\n     * gui.addColor( params, 'customRange', 255 );\n     *\n     * @param {object} object The object the controller will modify.\n     * @param {string} property Name of the property to control.\n     * @param {number} rgbScale Maximum value for a color channel when using an RGB color. You may\n     * need to set this to 255 if your colors are too dark.\n     * @returns {Controller}\n     */\n\n  }, {\n    key: \"addColor\",\n    value: function addColor(object, property) {\n      var rgbScale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n      return new ColorController(this, object, property, rgbScale);\n    }\n    /**\n     * Adds a folder to the GUI, which is just another GUI. This method returns\n     * the nested GUI so you can add controllers to it.\n     * @example\n     * const folder = gui.addFolder( 'Position' );\n     * folder.add( position, 'x' );\n     * folder.add( position, 'y' );\n     * folder.add( position, 'z' );\n     *\n     * @param {string} title Name to display in the folder's title bar.\n     * @returns {GUI}\n     */\n\n  }, {\n    key: \"addFolder\",\n    value: function addFolder(title) {\n      return new GUI({\n        parent: this,\n        title: title\n      });\n    }\n    /**\n     * Recalls values that were saved with `gui.save()`.\n     * @param {object} obj\n     * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n     * @returns {this}\n     */\n\n  }, {\n    key: \"load\",\n    value: function load(obj) {\n      var recursive = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n      if (obj.controllers) {\n        this.controllers.forEach(function (c) {\n          if (c instanceof FunctionController) return;\n\n          if (c._name in obj.controllers) {\n            c.load(obj.controllers[c._name]);\n          }\n        });\n      }\n\n      if (recursive && obj.folders) {\n        this.folders.forEach(function (f) {\n          if (f._title in obj.folders) {\n            f.load(obj.folders[f._title]);\n          }\n        });\n      }\n\n      return this;\n    }\n    /**\n     * Returns an object mapping controller names to values. The object can be passed to `gui.load()` to\n     * recall these values.\n     * @example\n     * {\n     * \tcontrollers: {\n     * \t\tprop1: 1,\n     * \t\tprop2: 'value',\n     * \t\t...\n     * \t},\n     * \tfolders: {\n     * \t\tfolderName1: { controllers, folders },\n     * \t\tfolderName2: { controllers, folders }\n     * \t\t...\n     * \t}\n     * }\n     *\n     * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n     * @returns {object}\n     */\n\n  }, {\n    key: \"save\",\n    value: function save() {\n      var recursive = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var obj = {\n        controllers: {},\n        folders: {}\n      };\n      this.controllers.forEach(function (c) {\n        if (c instanceof FunctionController) return;\n\n        if (c._name in obj.controllers) {\n          throw new Error(\"Cannot save GUI with duplicate property \\\"\".concat(c._name, \"\\\"\"));\n        }\n\n        obj.controllers[c._name] = c.save();\n      });\n\n      if (recursive) {\n        this.folders.forEach(function (f) {\n          if (f._title in obj.folders) {\n            throw new Error(\"Cannot save GUI with duplicate folder \\\"\".concat(f._title, \"\\\"\"));\n          }\n\n          obj.folders[f._title] = f.save();\n        });\n      }\n\n      return obj;\n    }\n    /**\n     * Opens a GUI or folder. GUI and folders are open by default.\n     * @param {boolean} open Pass false to close\n     * @returns {this}\n     * @example\n     * gui.open(); // open\n     * gui.open( false ); // close\n     * gui.open( gui._closed ); // toggle\n     */\n\n  }, {\n    key: \"open\",\n    value: function open() {\n      var _open = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._closed = !_open;\n      this.$title.setAttribute('aria-expanded', !this._closed);\n      this.domElement.classList.toggle('closed', this._closed);\n      return this;\n    }\n    /**\n     * Closes the GUI.\n     * @returns {this}\n     */\n\n  }, {\n    key: \"close\",\n    value: function close() {\n      return this.open(false);\n    }\n    /**\n     * Shows the GUI after it's been hidden.\n     * @param {boolean} show\n     * @returns {this}\n     * @example\n     * gui.show();\n     * gui.show( false ); // hide\n     * gui.show( gui._hidden ); // toggle\n     */\n\n  }, {\n    key: \"show\",\n    value: function show() {\n      var _show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._hidden = !_show;\n      this.domElement.style.display = this._hidden ? 'none' : '';\n      return this;\n    }\n    /**\n     * Hides the GUI.\n     * @returns {this}\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      return this.show(false);\n    }\n  }, {\n    key: \"openAnimated\",\n    value: function openAnimated() {\n      var _this10 = this;\n\n      var open = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      // set state immediately\n      this._closed = !open;\n      this.$title.setAttribute('aria-expanded', !this._closed); // wait for next frame to measure $children\n\n      requestAnimationFrame(function () {\n        // explicitly set initial height for transition\n        var initialHeight = _this10.$children.clientHeight;\n        _this10.$children.style.height = initialHeight + 'px';\n\n        _this10.domElement.classList.add('transition');\n\n        var onTransitionEnd = function onTransitionEnd(e) {\n          if (e.target !== _this10.$children) return;\n          _this10.$children.style.height = '';\n\n          _this10.domElement.classList.remove('transition');\n\n          _this10.$children.removeEventListener('transitionend', onTransitionEnd);\n        };\n\n        _this10.$children.addEventListener('transitionend', onTransitionEnd); // todo: this is wrong if children's scrollHeight makes for a gui taller than maxHeight\n\n\n        var targetHeight = !open ? 0 : _this10.$children.scrollHeight;\n\n        _this10.domElement.classList.toggle('closed', !open);\n\n        requestAnimationFrame(function () {\n          _this10.$children.style.height = targetHeight + 'px';\n        });\n      });\n      return this;\n    }\n    /**\n     * Change the title of this GUI.\n     * @param {string} title\n     * @returns {this}\n     */\n\n  }, {\n    key: \"title\",\n    value: function title(_title) {\n      /**\n       * Current title of the GUI. Use `gui.title( 'Title' )` to modify this value.\n       * @type {string}\n       */\n      this._title = _title;\n      this.$title.innerHTML = _title;\n      return this;\n    }\n    /**\n     * Resets all controllers to their initial values.\n     * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n     * @returns {this}\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var recursive = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var controllers = recursive ? this.controllersRecursive() : this.controllers;\n      controllers.forEach(function (c) {\n        return c.reset();\n      });\n      return this;\n    }\n    /**\n     * Pass a function to be called whenever a controller in this GUI changes.\n     * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n     * @returns {this}\n     * @example\n     * gui.onChange( event => {\n     * \tevent.object     // object that was modified\n     * \tevent.property   // string, name of property\n     * \tevent.value      // new value of controller\n     * \tevent.controller // controller that was modified\n     * } );\n     */\n\n  }, {\n    key: \"onChange\",\n    value: function onChange(callback) {\n      /**\n       * Used to access the function bound to `onChange` events. Don't modify this value\n       * directly. Use the `gui.onChange( callback )` method instead.\n       * @type {Function}\n       */\n      this._onChange = callback;\n      return this;\n    }\n  }, {\n    key: \"_callOnChange\",\n    value: function _callOnChange(controller) {\n      if (this.parent) {\n        this.parent._callOnChange(controller);\n      }\n\n      if (this._onChange !== undefined) {\n        this._onChange.call(this, {\n          object: controller.object,\n          property: controller.property,\n          value: controller.getValue(),\n          controller: controller\n        });\n      }\n    }\n    /**\n     * Pass a function to be called whenever a controller in this GUI has finished changing.\n     * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n     * @returns {this}\n     * @example\n     * gui.onFinishChange( event => {\n     * \tevent.object     // object that was modified\n     * \tevent.property   // string, name of property\n     * \tevent.value      // new value of controller\n     * \tevent.controller // controller that was modified\n     * } );\n     */\n\n  }, {\n    key: \"onFinishChange\",\n    value: function onFinishChange(callback) {\n      /**\n       * Used to access the function bound to `onFinishChange` events. Don't modify this value\n       * directly. Use the `gui.onFinishChange( callback )` method instead.\n       * @type {Function}\n       */\n      this._onFinishChange = callback;\n      return this;\n    }\n  }, {\n    key: \"_callOnFinishChange\",\n    value: function _callOnFinishChange(controller) {\n      if (this.parent) {\n        this.parent._callOnFinishChange(controller);\n      }\n\n      if (this._onFinishChange !== undefined) {\n        this._onFinishChange.call(this, {\n          object: controller.object,\n          property: controller.property,\n          value: controller.getValue(),\n          controller: controller\n        });\n      }\n    }\n    /**\n     * Destroys all DOM elements and event listeners associated with this GUI\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.parent) {\n        this.parent.children.splice(this.parent.children.indexOf(this), 1);\n        this.parent.folders.splice(this.parent.folders.indexOf(this), 1);\n      }\n\n      if (this.domElement.parentElement) {\n        this.domElement.parentElement.removeChild(this.domElement);\n      }\n\n      Array.from(this.children).forEach(function (c) {\n        return c.destroy();\n      });\n    }\n    /**\n     * Returns an array of controllers contained by this GUI and its descendents.\n     * @returns {Controller[]}\n     */\n\n  }, {\n    key: \"controllersRecursive\",\n    value: function controllersRecursive() {\n      var controllers = Array.from(this.controllers);\n      this.folders.forEach(function (f) {\n        controllers = controllers.concat(f.controllersRecursive());\n      });\n      return controllers;\n    }\n    /**\n     * Returns an array of folders contained by this GUI and its descendents.\n     * @returns {GUI[]}\n     */\n\n  }, {\n    key: \"foldersRecursive\",\n    value: function foldersRecursive() {\n      var folders = Array.from(this.folders);\n      this.folders.forEach(function (f) {\n        folders = folders.concat(f.foldersRecursive());\n      });\n      return folders;\n    }\n  }]);\n\n  return GUI;\n}();\n\nexport default GUI;\nexport { BooleanController, ColorController, Controller, FunctionController, GUI, NumberController, OptionController, StringController };","map":{"version":3,"names":["Controller","parent","object","property","className","widgetTag","_disabled","initialValue","getValue","domElement","document","createElement","classList","add","$name","nextNameID","id","$widget","$disable","appendChild","children","push","controllers","$children","_listenCallback","bind","name","_name","innerHTML","callback","_onChange","_callOnChange","undefined","call","_changed","_onFinishChange","_callOnFinishChange","setValue","enabled","disable","disabled","toggle","toggleAttribute","options","controller","destroy","min","max","step","listen","_listening","_listenCallbackID","cancelAnimationFrame","requestAnimationFrame","curValue","save","_listenPrevValue","updateDisplay","value","splice","indexOf","removeChild","BooleanController","$input","setAttribute","addEventListener","checked","normalizeColorString","string","match","result","parseInt","toString","padStart","STRING","isPrimitive","v","fromHexString","toHexString","INT","substring","ARRAY","Array","isArray","target","rgbScale","int","r","g","b","OBJECT","Object","FORMATS","getColorFormat","find","format","ColorController","$text","$display","_format","_rgbScale","_initialValueHexString","_textFocused","_setValueFromHexString","tryParse","select","newValue","style","backgroundColor","FunctionController","$button","e","preventDefault","passive","NumberController","_initInput","stepExplicit","_getImplicitStep","_min","_onUpdateMinMax","_max","explicit","_step","_stepExplicit","_hasSlider","percent","Math","$fill","width","_inputFocused","onInput","parseFloat","isNaN","_clamp","increment","delta","_snapClampSetValue","onKeyDown","code","blur","_arrowKeyMultiplier","onWheel","_normalizeMouseWheel","testingForVerticalDrag","initClientX","initClientY","prevClientY","initValue","dragDelta","DRAG_THRESH","onMouseDown","clientX","clientY","window","onMouseMove","onMouseUp","dx","dy","abs","_setDraggingStyle","removeEventListener","onFocus","onBlur","$slider","insertBefore","map","a","c","d","setValueFromX","rect","getBoundingClientRect","left","right","mouseDown","mouseMove","mouseUp","testingForScroll","prevClientX","beginTouchDrag","touches","onTouchStart","length","_hasScrollBar","onTouchMove","onTouchEnd","callOnFinishChange","WHEEL_DEBOUNCE_TIME","wheelFinishChangeTimeout","isVertical","deltaX","deltaY","clearTimeout","setTimeout","active","axis","body","_hasMin","_hasMax","_initSlider","floor","wheelDelta","wheel","mult","shiftKey","altKey","round","toPrecision","_snap","root","scrollHeight","clientHeight","OptionController","$select","_values","values","_names","keys","forEach","$option","selectedIndex","remove","index","StringController","stylesheet","_injectStyles","cssContent","injected","before","querySelector","head","stylesInjected","GUI","autoPlace","container","title","injectStyles","touchStyles","folders","_closed","_hidden","$title","openAnimated","click","setProperty","stopPropagation","$1","console","error","obj","recursive","load","f","_title","Error","open","show","display","initialHeight","height","onTransitionEnd","targetHeight","controllersRecursive","reset","parentElement","from","concat","foldersRecursive"],"sources":["C:/Phox.Solutions/Workshop/GitHub-Repos/WeTheNetwork/scene-director/node_modules/lil-gui/dist/lil-gui.esm.js"],"sourcesContent":["/**\n * lil-gui\n * https://lil-gui.georgealways.com\n * @version 0.16.1\n * @author George Michael Brower\n * @license MIT\n */\n\n/**\n * Base class for all controllers.\n */\nclass Controller {\n\n\tconstructor( parent, object, property, className, widgetTag = 'div' ) {\n\n\t\t/**\n\t\t * The GUI that contains this controller.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The object this controller will modify.\n\t\t * @type {object}\n\t\t */\n\t\tthis.object = object;\n\n\t\t/**\n\t\t * The name of the property to control.\n\t\t * @type {string}\n\t\t */\n\t\tthis.property = property;\n\n\t\t/**\n\t\t * Used to determine if the controller is disabled.\n\t\t * Use `controller.disable( true|false )` to modify this value\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._disabled = false;\n\n\t\t/**\n\t\t * The value of `object[ property ]` when the controller was created.\n\t\t * @type {any}\n\t\t */\n\t\tthis.initialValue = this.getValue();\n\n\t\t/**\n\t\t * The outermost container DOM element for this controller.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.classList.add( 'controller' );\n\t\tthis.domElement.classList.add( className );\n\n\t\t/**\n\t\t * The DOM element that contains the controller's name.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$name = document.createElement( 'div' );\n\t\tthis.$name.classList.add( 'name' );\n\n\t\tController.nextNameID = Controller.nextNameID || 0;\n\t\tthis.$name.id = `lil-gui-name-${++Controller.nextNameID}`;\n\n\t\t/**\n\t\t * The DOM element that contains the controller's \"widget\" (which differs by controller type).\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$widget = document.createElement( widgetTag );\n\t\tthis.$widget.classList.add( 'widget' );\n\n\t\t/**\n\t\t * The DOM element that receives the disabled attribute when using disable()\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$disable = this.$widget;\n\n\t\tthis.domElement.appendChild( this.$name );\n\t\tthis.domElement.appendChild( this.$widget );\n\n\t\tthis.parent.children.push( this );\n\t\tthis.parent.controllers.push( this );\n\n\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\tthis._listenCallback = this._listenCallback.bind( this );\n\n\t\tthis.name( property );\n\n\t}\n\n\t/**\n\t * Sets the name of the controller and its label in the GUI.\n\t * @param {string} name\n\t * @returns {this}\n\t */\n\tname( name ) {\n\t\t/**\n\t\t * The controller's name. Use `controller.name( 'Name' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._name = name;\n\t\tthis.$name.innerHTML = name;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever the value is modified by this controller.\n\t * The function receives the new value as its first parameter. The value of `this` will be the\n\t * controller.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onChange( function( v ) {\n\t * \tconsole.log( 'The value is now ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value directly.\n\t\t * Use the `controller.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls the onChange methods of this controller and its parent GUI.\n\t * @protected\n\t */\n\t_callOnChange() {\n\n\t\tthis.parent._callOnChange( this );\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, this.getValue() );\n\t\t}\n\n\t\tthis._changed = true;\n\n\t}\n\n\t/**\n\t * Pass a function to be called after this controller has been modified and loses focus.\n\t * @param {Function} callback\n\t * @returns {this}\n\t * @example\n\t * const controller = gui.add( object, 'property' );\n\t *\n\t * controller.onFinishChange( function( v ) {\n\t * \tconsole.log( 'Changes complete: ' + v );\n\t * \tconsole.assert( this === controller );\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `controller.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Should be called by Controller when its widgets lose focus.\n\t * @protected\n\t */\n\t_callOnFinishChange() {\n\n\t\tif ( this._changed ) {\n\n\t\t\tthis.parent._callOnFinishChange( this );\n\n\t\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\t\tthis._onFinishChange.call( this, this.getValue() );\n\t\t\t}\n\n\t\t}\n\n\t\tthis._changed = false;\n\n\t}\n\n\t/**\n\t * Sets the controller back to its initial value.\n\t * @returns {this}\n\t */\n\treset() {\n\t\tthis.setValue( this.initialValue );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Enables this controller.\n\t * @param {boolean} enabled\n\t * @returns {this}\n\t * @example\n\t * controller.enable();\n\t * controller.enable( false ); // disable\n\t * controller.enable( controller._disabled ); // toggle\n\t */\n\tenable( enabled = true ) {\n\t\treturn this.disable( !enabled );\n\t}\n\n\t/**\n\t * Disables this controller.\n\t * @param {boolean} disabled\n\t * @returns {this}\n\t * @example\n\t * controller.disable();\n\t * controller.disable( false ); // enable\n\t * controller.disable( !controller._disabled ); // toggle\n\t */\n\tdisable( disabled = true ) {\n\n\t\tif ( disabled === this._disabled ) return this;\n\n\t\tthis._disabled = disabled;\n\n\t\tthis.domElement.classList.toggle( 'disabled', disabled );\n\t\tthis.$disable.toggleAttribute( 'disabled', disabled );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Destroys this controller and replaces it with a new option controller. Provided as a more\n\t * descriptive syntax for `gui.add`, but primarily for compatibility with dat.gui.\n\t *\n\t * Use caution, as this method will destroy old references to this controller. It will also\n\t * change controller order if called out of sequence, moving the option controller to the end of\n\t * the GUI.\n\t * @example\n\t * // safe usage\n\t *\n\t * gui.add( object1, 'property' ).options( [ 'a', 'b', 'c' ] );\n\t * gui.add( object2, 'property' );\n\t *\n\t * // danger\n\t *\n\t * const c = gui.add( object1, 'property' );\n\t * gui.add( object2, 'property' );\n\t *\n\t * c.options( [ 'a', 'b', 'c' ] );\n\t * // controller is now at the end of the GUI even though it was added first\n\t *\n\t * assert( c.parent.children.indexOf( c ) === -1 )\n\t * // c references a controller that no longer exists\n\t *\n\t * @param {object|Array} options\n\t * @returns {Controller}\n\t */\n\toptions( options ) {\n\t\tconst controller = this.parent.add( this.object, this.property, options );\n\t\tcontroller.name( this._name );\n\t\tthis.destroy();\n\t\treturn controller;\n\t}\n\n\t/**\n\t * Sets the minimum value. Only works on number controllers.\n\t * @param {number} min\n\t * @returns {this}\n\t */\n\tmin( min ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the maximum value. Only works on number controllers.\n\t * @param {number} max\n\t * @returns {this}\n\t */\n\tmax( max ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the step. Only works on number controllers.\n\t * @param {number} step\n\t * @returns {this}\n\t */\n\tstep( step ) {\n\t\treturn this;\n\t}\n\n\t/**\n\t * Calls `updateDisplay()` every animation frame. Pass `false` to stop listening.\n\t * @param {boolean} listen\n\t * @returns {this}\n\t */\n\tlisten( listen = true ) {\n\n\t\t/**\n\t\t * Used to determine if the controller is currently listening. Don't modify this value\n\t\t * directly. Use the `controller.listen( true|false )` method instead.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._listening = listen;\n\n\t\tif ( this._listenCallbackID !== undefined ) {\n\t\t\tcancelAnimationFrame( this._listenCallbackID );\n\t\t\tthis._listenCallbackID = undefined;\n\t\t}\n\n\t\tif ( this._listening ) {\n\t\t\tthis._listenCallback();\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_listenCallback() {\n\n\t\tthis._listenCallbackID = requestAnimationFrame( this._listenCallback );\n\n\t\t// To prevent framerate loss, make sure the value has changed before updating the display.\n\t\t// Note: save() is used here instead of getValue() only because of ColorController. The !== operator\n\t\t// won't work for color objects or arrays, but ColorController.save() always returns a string.\n\n\t\tconst curValue = this.save();\n\n\t\tif ( curValue !== this._listenPrevValue ) {\n\t\t\tthis.updateDisplay();\n\t\t}\n\n\t\tthis._listenPrevValue = curValue;\n\n\t}\n\n\t/**\n\t * Returns `object[ property ]`.\n\t * @returns {any}\n\t */\n\tgetValue() {\n\t\treturn this.object[ this.property ];\n\t}\n\n\t/**\n\t * Sets the value of `object[ property ]`, invokes any `onChange` handlers and updates the display.\n\t * @param {any} value\n\t * @returns {this}\n\t */\n\tsetValue( value ) {\n\t\tthis.object[ this.property ] = value;\n\t\tthis._callOnChange();\n\t\tthis.updateDisplay();\n\t\treturn this;\n\t}\n\n\t/**\n\t * Updates the display to keep it in sync with the current value. Useful for updating your\n\t * controllers when their values have been modified outside of the GUI.\n\t * @returns {this}\n\t */\n\tupdateDisplay() {\n\t\treturn this;\n\t}\n\n\tload( value ) {\n\t\tthis.setValue( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tsave() {\n\t\treturn this.getValue();\n\t}\n\n\t/**\n\t * Destroys this controller and removes it from the parent GUI.\n\t */\n\tdestroy() {\n\t\tthis.listen( false );\n\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\tthis.parent.controllers.splice( this.parent.controllers.indexOf( this ), 1 );\n\t\tthis.parent.$children.removeChild( this.domElement );\n\t}\n\n}\n\nclass BooleanController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'boolean', 'label' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'checkbox' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$input.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this.$input.checked );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.checked = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nfunction normalizeColorString( string ) {\n\n\tlet match, result;\n\n\tif ( match = string.match( /(#|0x)?([a-f0-9]{6})/i ) ) {\n\n\t\tresult = match[ 2 ];\n\n\t} else if ( match = string.match( /rgb\\(\\s*(\\d*)\\s*,\\s*(\\d*)\\s*,\\s*(\\d*)\\s*\\)/ ) ) {\n\n\t\tresult = parseInt( match[ 1 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 2 ] ).toString( 16 ).padStart( 2, 0 )\n\t\t\t+ parseInt( match[ 3 ] ).toString( 16 ).padStart( 2, 0 );\n\n\t} else if ( match = string.match( /^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i ) ) {\n\n\t\tresult = match[ 1 ] + match[ 1 ] + match[ 2 ] + match[ 2 ] + match[ 3 ] + match[ 3 ];\n\n\t}\n\n\tif ( result ) {\n\t\treturn '#' + result;\n\t}\n\n\treturn false;\n\n}\n\nconst STRING = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'string',\n\tfromHexString: normalizeColorString,\n\ttoHexString: normalizeColorString\n};\n\nconst INT = {\n\tisPrimitive: true,\n\tmatch: v => typeof v === 'number',\n\tfromHexString: string => parseInt( string.substring( 1 ), 16 ),\n\ttoHexString: value => '#' + value.toString( 16 ).padStart( 6, 0 )\n};\n\nconst ARRAY = {\n\tisPrimitive: false,\n\tmatch: Array.isArray,\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget[ 0 ] = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 1 ] = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget[ 2 ] = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( [ r, g, b ], rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = ( r * rgbScale ) << 16 ^\n\t\t\t( g * rgbScale ) << 8 ^\n\t\t\t( b * rgbScale ) << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst OBJECT = {\n\tisPrimitive: false,\n\tmatch: v => Object( v ) === v,\n\tfromHexString( string, target, rgbScale = 1 ) {\n\n\t\tconst int = INT.fromHexString( string );\n\n\t\ttarget.r = ( int >> 16 & 255 ) / 255 * rgbScale;\n\t\ttarget.g = ( int >> 8 & 255 ) / 255 * rgbScale;\n\t\ttarget.b = ( int & 255 ) / 255 * rgbScale;\n\n\t},\n\ttoHexString( { r, g, b }, rgbScale = 1 ) {\n\n\t\trgbScale = 255 / rgbScale;\n\n\t\tconst int = ( r * rgbScale ) << 16 ^\n\t\t\t( g * rgbScale ) << 8 ^\n\t\t\t( b * rgbScale ) << 0;\n\n\t\treturn INT.toHexString( int );\n\n\t}\n};\n\nconst FORMATS = [ STRING, INT, ARRAY, OBJECT ];\n\nfunction getColorFormat( value ) {\n\treturn FORMATS.find( format => format.match( value ) );\n}\n\nclass ColorController extends Controller {\n\n\tconstructor( parent, object, property, rgbScale ) {\n\n\t\tsuper( parent, object, property, 'color' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'color' );\n\t\tthis.$input.setAttribute( 'tabindex', -1 );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$text = document.createElement( 'input' );\n\t\tthis.$text.setAttribute( 'type', 'text' );\n\t\tthis.$text.setAttribute( 'spellcheck', 'false' );\n\t\tthis.$text.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'display' );\n\n\t\tthis.$display.appendChild( this.$input );\n\t\tthis.$widget.appendChild( this.$display );\n\t\tthis.$widget.appendChild( this.$text );\n\n\t\tthis._format = getColorFormat( this.initialValue );\n\t\tthis._rgbScale = rgbScale;\n\n\t\tthis._initialValueHexString = this.save();\n\t\tthis._textFocused = false;\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis._setValueFromHexString( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'input', () => {\n\t\t\tconst tryParse = normalizeColorString( this.$text.value );\n\t\t\tif ( tryParse ) {\n\t\t\t\tthis._setValueFromHexString( tryParse );\n\t\t\t}\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'focus', () => {\n\t\t\tthis._textFocused = true;\n\t\t\tthis.$text.select();\n\t\t} );\n\n\t\tthis.$text.addEventListener( 'blur', () => {\n\t\t\tthis._textFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$disable = this.$text;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\treset() {\n\t\tthis._setValueFromHexString( this._initialValueHexString );\n\t\treturn this;\n\t}\n\n\t_setValueFromHexString( value ) {\n\n\t\tif ( this._format.isPrimitive ) {\n\n\t\t\tconst newValue = this._format.fromHexString( value );\n\t\t\tthis.setValue( newValue );\n\n\t\t} else {\n\n\t\t\tthis._format.fromHexString( value, this.getValue(), this._rgbScale );\n\t\t\tthis._callOnChange();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\tsave() {\n\t\treturn this._format.toHexString( this.getValue(), this._rgbScale );\n\t}\n\n\tload( value ) {\n\t\tthis._setValueFromHexString( value );\n\t\tthis._callOnFinishChange();\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this._format.toHexString( this.getValue(), this._rgbScale );\n\t\tif ( !this._textFocused ) {\n\t\t\tthis.$text.value = this.$input.value.substring( 1 );\n\t\t}\n\t\tthis.$display.style.backgroundColor = this.$input.value;\n\t\treturn this;\n\t}\n\n}\n\nclass FunctionController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'function' );\n\n\t\t// Buttons are the only case where widget contains name\n\t\tthis.$button = document.createElement( 'button' );\n\t\tthis.$button.appendChild( this.$name );\n\t\tthis.$widget.appendChild( this.$button );\n\n\t\tthis.$button.addEventListener( 'click', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.getValue().call( this.object );\n\t\t} );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$button.addEventListener( 'touchstart', () => {}, { passive: true } );\n\n\t\tthis.$disable = this.$button;\n\n\t}\n\n}\n\nclass NumberController extends Controller {\n\n\tconstructor( parent, object, property, min, max, step ) {\n\n\t\tsuper( parent, object, property, 'number' );\n\n\t\tthis._initInput();\n\n\t\tthis.min( min );\n\t\tthis.max( max );\n\n\t\tconst stepExplicit = step !== undefined;\n\t\tthis.step( stepExplicit ? step : this._getImplicitStep(), stepExplicit );\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tmin( min ) {\n\t\tthis._min = min;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tmax( max ) {\n\t\tthis._max = max;\n\t\tthis._onUpdateMinMax();\n\t\treturn this;\n\t}\n\n\tstep( step, explicit = true ) {\n\t\tthis._step = step;\n\t\tthis._stepExplicit = explicit;\n\t\treturn this;\n\t}\n\n\tupdateDisplay() {\n\n\t\tconst value = this.getValue();\n\n\t\tif ( this._hasSlider ) {\n\n\t\t\tlet percent = ( value - this._min ) / ( this._max - this._min );\n\t\t\tpercent = Math.max( 0, Math.min( percent, 1 ) );\n\n\t\t\tthis.$fill.style.width = percent * 100 + '%';\n\n\t\t}\n\n\t\tif ( !this._inputFocused ) {\n\t\t\tthis.$input.value = value;\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t_initInput() {\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'number' );\n\t\tthis.$input.setAttribute( 'step', 'any' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tconst onInput = () => {\n\n\t\t\tconst value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tthis.setValue( this._clamp( value ) );\n\n\t\t};\n\n\t\t// Keys & mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst increment = delta => {\n\n\t\t\tconst value = parseFloat( this.$input.value );\n\n\t\t\tif ( isNaN( value ) ) return;\n\n\t\t\tthis._snapClampSetValue( value + delta );\n\n\t\t\t// Force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t};\n\n\t\tconst onKeyDown = e => {\n\t\t\tif ( e.code === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowUp' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) );\n\t\t\t}\n\t\t\tif ( e.code === 'ArrowDown' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._arrowKeyMultiplier( e ) * -1 );\n\t\t\t}\n\t\t};\n\n\t\tconst onWheel = e => {\n\t\t\tif ( this._inputFocused ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tincrement( this._step * this._normalizeMouseWheel( e ) );\n\t\t\t}\n\t\t};\n\n\t\t// Vertical drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForVerticalDrag = false,\n\t\t\tinitClientX,\n\t\t\tinitClientY,\n\t\t\tprevClientY,\n\t\t\tinitValue,\n\t\t\tdragDelta;\n\n\t\t// Once the mouse is dragged more than DRAG_THRESH px on any axis, we decide\n\t\t// on the user's intent: horizontal means highlight, vertical means drag.\n\t\tconst DRAG_THRESH = 5;\n\n\t\tconst onMouseDown = e => {\n\n\t\t\tinitClientX = e.clientX;\n\t\t\tinitClientY = prevClientY = e.clientY;\n\t\t\ttestingForVerticalDrag = true;\n\n\t\t\tinitValue = this.getValue();\n\t\t\tdragDelta = 0;\n\n\t\t\twindow.addEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.addEventListener( 'mouseup', onMouseUp );\n\n\t\t};\n\n\t\tconst onMouseMove = e => {\n\n\t\t\tif ( testingForVerticalDrag ) {\n\n\t\t\t\tconst dx = e.clientX - initClientX;\n\t\t\t\tconst dy = e.clientY - initClientY;\n\n\t\t\t\tif ( Math.abs( dy ) > DRAG_THRESH ) {\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.$input.blur();\n\t\t\t\t\ttestingForVerticalDrag = false;\n\t\t\t\t\tthis._setDraggingStyle( true, 'vertical' );\n\n\t\t\t\t} else if ( Math.abs( dx ) > DRAG_THRESH ) {\n\n\t\t\t\t\tonMouseUp();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// This isn't an else so that the first move counts towards dragDelta\n\t\t\tif ( !testingForVerticalDrag ) {\n\n\t\t\t\tconst dy = e.clientY - prevClientY;\n\n\t\t\t\tdragDelta -= dy * this._step * this._arrowKeyMultiplier( e );\n\n\t\t\t\t// Clamp dragDelta so we don't have 'dead space' after dragging past bounds.\n\t\t\t\t// We're okay with the fact that bounds can be undefined here.\n\t\t\t\tif ( initValue + dragDelta > this._max ) {\n\t\t\t\t\tdragDelta = this._max - initValue;\n\t\t\t\t} else if ( initValue + dragDelta < this._min ) {\n\t\t\t\t\tdragDelta = this._min - initValue;\n\t\t\t\t}\n\n\t\t\t\tthis._snapClampSetValue( initValue + dragDelta );\n\n\t\t\t}\n\n\t\t\tprevClientY = e.clientY;\n\n\t\t};\n\n\t\tconst onMouseUp = () => {\n\t\t\tthis._setDraggingStyle( false, 'vertical' );\n\t\t\tthis._callOnFinishChange();\n\t\t\twindow.removeEventListener( 'mousemove', onMouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', onMouseUp );\n\t\t};\n\n\t\t// Focus state & onFinishChange\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst onFocus = () => {\n\t\t\tthis._inputFocused = true;\n\t\t};\n\n\t\tconst onBlur = () => {\n\t\t\tthis._inputFocused = false;\n\t\t\tthis.updateDisplay();\n\t\t\tthis._callOnFinishChange();\n\t\t};\n\n\t\tthis.$input.addEventListener( 'input', onInput );\n\t\tthis.$input.addEventListener( 'keydown', onKeyDown );\n\t\tthis.$input.addEventListener( 'wheel', onWheel, { passive: false } );\n\t\tthis.$input.addEventListener( 'mousedown', onMouseDown );\n\t\tthis.$input.addEventListener( 'focus', onFocus );\n\t\tthis.$input.addEventListener( 'blur', onBlur );\n\n\t}\n\n\t_initSlider() {\n\n\t\tthis._hasSlider = true;\n\n\t\t// Build DOM\n\t\t// ---------------------------------------------------------------------\n\n\t\tthis.$slider = document.createElement( 'div' );\n\t\tthis.$slider.classList.add( 'slider' );\n\n\t\tthis.$fill = document.createElement( 'div' );\n\t\tthis.$fill.classList.add( 'fill' );\n\n\t\tthis.$slider.appendChild( this.$fill );\n\t\tthis.$widget.insertBefore( this.$slider, this.$input );\n\n\t\tthis.domElement.classList.add( 'hasSlider' );\n\n\t\t// Map clientX to value\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst map = ( v, a, b, c, d ) => {\n\t\t\treturn ( v - a ) / ( b - a ) * ( d - c ) + c;\n\t\t};\n\n\t\tconst setValueFromX = clientX => {\n\t\t\tconst rect = this.$slider.getBoundingClientRect();\n\t\t\tlet value = map( clientX, rect.left, rect.right, this._min, this._max );\n\t\t\tthis._snapClampSetValue( value );\n\t\t};\n\n\t\t// Mouse drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tconst mouseDown = e => {\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.clientX );\n\t\t\twindow.addEventListener( 'mousemove', mouseMove );\n\t\t\twindow.addEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\tconst mouseMove = e => {\n\t\t\tsetValueFromX( e.clientX );\n\t\t};\n\n\t\tconst mouseUp = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'mousemove', mouseMove );\n\t\t\twindow.removeEventListener( 'mouseup', mouseUp );\n\t\t};\n\n\t\t// Touch drag\n\t\t// ---------------------------------------------------------------------\n\n\t\tlet testingForScroll = false, prevClientX, prevClientY;\n\n\t\tconst beginTouchDrag = e => {\n\t\t\te.preventDefault();\n\t\t\tthis._setDraggingStyle( true );\n\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\t\t\ttestingForScroll = false;\n\t\t};\n\n\t\tconst onTouchStart = e => {\n\n\t\t\tif ( e.touches.length > 1 ) return;\n\n\t\t\t// If we're in a scrollable container, we should wait for the first\n\t\t\t// touchmove to see if the user is trying to slide or scroll.\n\t\t\tif ( this._hasScrollBar ) {\n\n\t\t\t\tprevClientX = e.touches[ 0 ].clientX;\n\t\t\t\tprevClientY = e.touches[ 0 ].clientY;\n\t\t\t\ttestingForScroll = true;\n\n\t\t\t} else {\n\n\t\t\t\t// Otherwise, we can set the value straight away on touchstart.\n\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t}\n\n\t\t\twindow.addEventListener( 'touchmove', onTouchMove );\n\t\t\twindow.addEventListener( 'touchend', onTouchEnd );\n\n\t\t};\n\n\t\tconst onTouchMove = e => {\n\n\t\t\tif ( testingForScroll ) {\n\n\t\t\t\tconst dx = e.touches[ 0 ].clientX - prevClientX;\n\t\t\t\tconst dy = e.touches[ 0 ].clientY - prevClientY;\n\n\t\t\t\tif ( Math.abs( dx ) > Math.abs( dy ) ) {\n\n\t\t\t\t\t// We moved horizontally, set the value and stop checking.\n\t\t\t\t\tbeginTouchDrag( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// This was, in fact, an attempt to scroll. Abort.\n\t\t\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\te.preventDefault();\n\t\t\t\tsetValueFromX( e.touches[ 0 ].clientX );\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst onTouchEnd = () => {\n\t\t\tthis._callOnFinishChange();\n\t\t\tthis._setDraggingStyle( false );\n\t\t\twindow.removeEventListener( 'touchmove', onTouchMove );\n\t\t\twindow.removeEventListener( 'touchend', onTouchEnd );\n\t\t};\n\n\t\t// Mouse wheel\n\t\t// ---------------------------------------------------------------------\n\n\t\t// We have to use a debounced function to call onFinishChange because\n\t\t// there's no way to tell when the user is \"done\" mouse-wheeling.\n\t\tconst callOnFinishChange = this._callOnFinishChange.bind( this );\n\t\tconst WHEEL_DEBOUNCE_TIME = 400;\n\t\tlet wheelFinishChangeTimeout;\n\n\t\tconst onWheel = e => {\n\n\t\t\t// ignore vertical wheels if there's a scrollbar\n\t\t\tconst isVertical = Math.abs( e.deltaX ) < Math.abs( e.deltaY );\n\t\t\tif ( isVertical && this._hasScrollBar ) return;\n\n\t\t\te.preventDefault();\n\n\t\t\t// set value\n\t\t\tconst delta = this._normalizeMouseWheel( e ) * this._step;\n\t\t\tthis._snapClampSetValue( this.getValue() + delta );\n\n\t\t\t// force the input to updateDisplay when it's focused\n\t\t\tthis.$input.value = this.getValue();\n\n\t\t\t// debounce onFinishChange\n\t\t\tclearTimeout( wheelFinishChangeTimeout );\n\t\t\twheelFinishChangeTimeout = setTimeout( callOnFinishChange, WHEEL_DEBOUNCE_TIME );\n\n\t\t};\n\n\t\tthis.$slider.addEventListener( 'mousedown', mouseDown );\n\t\tthis.$slider.addEventListener( 'touchstart', onTouchStart, { passive: false } );\n\t\tthis.$slider.addEventListener( 'wheel', onWheel, { passive: false } );\n\n\t}\n\n\t_setDraggingStyle( active, axis = 'horizontal' ) {\n\t\tif ( this.$slider ) {\n\t\t\tthis.$slider.classList.toggle( 'active', active );\n\t\t}\n\t\tdocument.body.classList.toggle( 'lil-gui-dragging', active );\n\t\tdocument.body.classList.toggle( `lil-gui-${axis}`, active );\n\t}\n\n\t_getImplicitStep() {\n\n\t\tif ( this._hasMin && this._hasMax ) {\n\t\t\treturn ( this._max - this._min ) / 1000;\n\t\t}\n\n\t\treturn 0.1;\n\n\t}\n\n\t_onUpdateMinMax() {\n\n\t\tif ( !this._hasSlider && this._hasMin && this._hasMax ) {\n\n\t\t\t// If this is the first time we're hearing about min and max\n\t\t\t// and we haven't explicitly stated what our step is, let's\n\t\t\t// update that too.\n\t\t\tif ( !this._stepExplicit ) {\n\t\t\t\tthis.step( this._getImplicitStep(), false );\n\t\t\t}\n\n\t\t\tthis._initSlider();\n\t\t\tthis.updateDisplay();\n\n\t\t}\n\n\t}\n\n\t_normalizeMouseWheel( e ) {\n\n\t\tlet { deltaX, deltaY } = e;\n\n\t\t// Safari and Chrome report weird non-integral values for a notched wheel,\n\t\t// but still expose actual lines scrolled via wheelDelta. Notched wheels\n\t\t// should behave the same way as arrow keys.\n\t\tif ( Math.floor( e.deltaY ) !== e.deltaY && e.wheelDelta ) {\n\t\t\tdeltaX = 0;\n\t\t\tdeltaY = -e.wheelDelta / 120;\n\t\t\tdeltaY *= this._stepExplicit ? 1 : 10;\n\t\t}\n\n\t\tconst wheel = deltaX + -deltaY;\n\n\t\treturn wheel;\n\n\t}\n\n\t_arrowKeyMultiplier( e ) {\n\n\t\tlet mult = this._stepExplicit ? 1 : 10;\n\n\t\tif ( e.shiftKey ) {\n\t\t\tmult *= 10;\n\t\t} else if ( e.altKey ) {\n\t\t\tmult /= 10;\n\t\t}\n\n\t\treturn mult;\n\n\t}\n\n\t_snap( value ) {\n\n\t\t// This would be the logical way to do things, but floating point errors.\n\t\t// return Math.round( value / this._step ) * this._step;\n\n\t\t// Using inverse step solves a lot of them, but not all\n\t\t// const inverseStep = 1 / this._step;\n\t\t// return Math.round( value * inverseStep ) / inverseStep;\n\n\t\t// Not happy about this, but haven't seen it break.\n\t\tconst r = Math.round( value / this._step ) * this._step;\n\t\treturn parseFloat( r.toPrecision( 15 ) );\n\n\t}\n\n\t_clamp( value ) {\n\t\t// either condition is false if min or max is undefined\n\t\tif ( value < this._min ) value = this._min;\n\t\tif ( value > this._max ) value = this._max;\n\t\treturn value;\n\t}\n\n\t_snapClampSetValue( value ) {\n\t\tthis.setValue( this._clamp( this._snap( value ) ) );\n\t}\n\n\tget _hasScrollBar() {\n\t\tconst root = this.parent.root.$children;\n\t\treturn root.scrollHeight > root.clientHeight;\n\t}\n\n\tget _hasMin() {\n\t\treturn this._min !== undefined;\n\t}\n\n\tget _hasMax() {\n\t\treturn this._max !== undefined;\n\t}\n\n}\n\nclass OptionController extends Controller {\n\n\tconstructor( parent, object, property, options ) {\n\n\t\tsuper( parent, object, property, 'option' );\n\n\t\tthis.$select = document.createElement( 'select' );\n\t\tthis.$select.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$display = document.createElement( 'div' );\n\t\tthis.$display.classList.add( 'display' );\n\n\t\tthis._values = Array.isArray( options ) ? options : Object.values( options );\n\t\tthis._names = Array.isArray( options ) ? options : Object.keys( options );\n\n\t\tthis._names.forEach( name => {\n\t\t\tconst $option = document.createElement( 'option' );\n\t\t\t$option.innerHTML = name;\n\t\t\tthis.$select.appendChild( $option );\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'change', () => {\n\t\t\tthis.setValue( this._values[ this.$select.selectedIndex ] );\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'focus', () => {\n\t\t\tthis.$display.classList.add( 'focus' );\n\t\t} );\n\n\t\tthis.$select.addEventListener( 'blur', () => {\n\t\t\tthis.$display.classList.remove( 'focus' );\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$select );\n\t\tthis.$widget.appendChild( this.$display );\n\n\t\tthis.$disable = this.$select;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tconst value = this.getValue();\n\t\tconst index = this._values.indexOf( value );\n\t\tthis.$select.selectedIndex = index;\n\t\tthis.$display.innerHTML = index === -1 ? value : this._names[ index ];\n\t\treturn this;\n\t}\n\n}\n\nclass StringController extends Controller {\n\n\tconstructor( parent, object, property ) {\n\n\t\tsuper( parent, object, property, 'string' );\n\n\t\tthis.$input = document.createElement( 'input' );\n\t\tthis.$input.setAttribute( 'type', 'text' );\n\t\tthis.$input.setAttribute( 'aria-labelledby', this.$name.id );\n\n\t\tthis.$input.addEventListener( 'input', () => {\n\t\t\tthis.setValue( this.$input.value );\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'keydown', e => {\n\t\t\tif ( e.code === 'Enter' ) {\n\t\t\t\tthis.$input.blur();\n\t\t\t}\n\t\t} );\n\n\t\tthis.$input.addEventListener( 'blur', () => {\n\t\t\tthis._callOnFinishChange();\n\t\t} );\n\n\t\tthis.$widget.appendChild( this.$input );\n\n\t\tthis.$disable = this.$input;\n\n\t\tthis.updateDisplay();\n\n\t}\n\n\tupdateDisplay() {\n\t\tthis.$input.value = this.getValue();\n\t\treturn this;\n\t}\n\n}\n\nconst stylesheet = `.lil-gui {\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  text-align: left;\n  background-color: var(--background-color);\n  color: var(--text-color);\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  --background-color: #1f1f1f;\n  --text-color: #ebebeb;\n  --title-background-color: #111111;\n  --title-text-color: #ebebeb;\n  --widget-color: #424242;\n  --hover-color: #4f4f4f;\n  --focus-color: #595959;\n  --number-color: #2cc9ff;\n  --string-color: #a2db3c;\n  --font-size: 11px;\n  --input-font-size: 11px;\n  --font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Arial, sans-serif;\n  --font-family-mono: Menlo, Monaco, Consolas, \"Droid Sans Mono\", monospace;\n  --padding: 4px;\n  --spacing: 4px;\n  --widget-height: 20px;\n  --name-width: 45%;\n  --slider-knob-width: 2px;\n  --slider-input-width: 27%;\n  --color-input-width: 27%;\n  --slider-input-min-width: 45px;\n  --color-input-min-width: 45px;\n  --folder-indent: 7px;\n  --widget-padding: 0 0 0 3px;\n  --widget-border-radius: 2px;\n  --checkbox-size: calc(0.75 * var(--widget-height));\n  --scrollbar-width: 5px;\n}\n.lil-gui, .lil-gui * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.lil-gui.root {\n  width: var(--width, 245px);\n  display: flex;\n  flex-direction: column;\n}\n.lil-gui.root > .title {\n  background: var(--title-background-color);\n  color: var(--title-text-color);\n}\n.lil-gui.root > .children {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.lil-gui.root > .children::-webkit-scrollbar {\n  width: var(--scrollbar-width);\n  height: var(--scrollbar-width);\n  background: var(--background-color);\n}\n.lil-gui.root > .children::-webkit-scrollbar-thumb {\n  border-radius: var(--scrollbar-width);\n  background: var(--focus-color);\n}\n@media (pointer: coarse) {\n  .lil-gui.allow-touch-styles {\n    --widget-height: 28px;\n    --padding: 6px;\n    --spacing: 6px;\n    --font-size: 13px;\n    --input-font-size: 16px;\n    --folder-indent: 10px;\n    --scrollbar-width: 7px;\n    --slider-input-min-width: 50px;\n    --color-input-min-width: 65px;\n  }\n}\n.lil-gui.force-touch-styles {\n  --widget-height: 28px;\n  --padding: 6px;\n  --spacing: 6px;\n  --font-size: 13px;\n  --input-font-size: 16px;\n  --folder-indent: 10px;\n  --scrollbar-width: 7px;\n  --slider-input-min-width: 50px;\n  --color-input-min-width: 65px;\n}\n.lil-gui.autoPlace {\n  max-height: 100%;\n  position: fixed;\n  top: 0;\n  right: 15px;\n  z-index: 1001;\n}\n\n.lil-gui .controller {\n  display: flex;\n  align-items: center;\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n}\n.lil-gui .controller.disabled {\n  opacity: 0.5;\n}\n.lil-gui .controller.disabled, .lil-gui .controller.disabled * {\n  pointer-events: none !important;\n}\n.lil-gui .controller > .name {\n  min-width: var(--name-width);\n  flex-shrink: 0;\n  white-space: pre;\n  padding-right: var(--spacing);\n  line-height: var(--widget-height);\n}\n.lil-gui .controller .widget {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  min-height: var(--widget-height);\n}\n.lil-gui .controller.string input {\n  color: var(--string-color);\n}\n.lil-gui .controller.boolean .widget {\n  cursor: pointer;\n}\n.lil-gui .controller.color .display {\n  width: 100%;\n  height: var(--widget-height);\n  border-radius: var(--widget-border-radius);\n  position: relative;\n}\n@media (hover: hover) {\n  .lil-gui .controller.color .display:hover:before {\n    content: \" \";\n    display: block;\n    position: absolute;\n    border-radius: var(--widget-border-radius);\n    border: 1px solid #fff9;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n}\n.lil-gui .controller.color input[type=color] {\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n  cursor: pointer;\n}\n.lil-gui .controller.color input[type=text] {\n  margin-left: var(--spacing);\n  font-family: var(--font-family-mono);\n  min-width: var(--color-input-min-width);\n  width: var(--color-input-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.option select {\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  max-width: 100%;\n}\n.lil-gui .controller.option .display {\n  position: relative;\n  pointer-events: none;\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  line-height: var(--widget-height);\n  max-width: 100%;\n  overflow: hidden;\n  word-break: break-all;\n  padding-left: 0.55em;\n  padding-right: 1.75em;\n  background: var(--widget-color);\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .display.focus {\n    background: var(--focus-color);\n  }\n}\n.lil-gui .controller.option .display.active {\n  background: var(--focus-color);\n}\n.lil-gui .controller.option .display:after {\n  font-family: \"lil-gui\";\n  content: \"\";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  padding-right: 0.375em;\n}\n.lil-gui .controller.option .widget,\n.lil-gui .controller.option select {\n  cursor: pointer;\n}\n@media (hover: hover) {\n  .lil-gui .controller.option .widget:hover .display {\n    background: var(--hover-color);\n  }\n}\n.lil-gui .controller.number input {\n  color: var(--number-color);\n}\n.lil-gui .controller.number.hasSlider input {\n  margin-left: var(--spacing);\n  width: var(--slider-input-width);\n  min-width: var(--slider-input-min-width);\n  flex-shrink: 0;\n}\n.lil-gui .controller.number .slider {\n  width: 100%;\n  height: var(--widget-height);\n  background-color: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  padding-right: var(--slider-knob-width);\n  overflow: hidden;\n  cursor: ew-resize;\n  touch-action: pan-y;\n}\n@media (hover: hover) {\n  .lil-gui .controller.number .slider:hover {\n    background-color: var(--hover-color);\n  }\n}\n.lil-gui .controller.number .slider.active {\n  background-color: var(--focus-color);\n}\n.lil-gui .controller.number .slider.active .fill {\n  opacity: 0.95;\n}\n.lil-gui .controller.number .fill {\n  height: 100%;\n  border-right: var(--slider-knob-width) solid var(--number-color);\n  box-sizing: content-box;\n}\n\n.lil-gui-dragging .lil-gui {\n  --hover-color: var(--widget-color);\n}\n.lil-gui-dragging * {\n  cursor: ew-resize !important;\n}\n\n.lil-gui-dragging.lil-gui-vertical * {\n  cursor: ns-resize !important;\n}\n\n.lil-gui .title {\n  --title-height: calc(var(--widget-height) + var(--spacing) * 1.25);\n  height: var(--title-height);\n  line-height: calc(var(--title-height) - 4px);\n  font-weight: 600;\n  padding: 0 var(--padding);\n  -webkit-tap-highlight-color: transparent;\n  cursor: pointer;\n  outline: none;\n  text-decoration-skip: objects;\n}\n.lil-gui .title:before {\n  font-family: \"lil-gui\";\n  content: \"\";\n  padding-right: 2px;\n  display: inline-block;\n}\n.lil-gui .title:active {\n  background: var(--title-background-color);\n  opacity: 0.75;\n}\n@media (hover: hover) {\n  body:not(.lil-gui-dragging) .lil-gui .title:hover {\n    background: var(--title-background-color);\n    opacity: 0.85;\n  }\n  .lil-gui .title:focus {\n    text-decoration: underline var(--focus-color);\n  }\n}\n.lil-gui.root > .title:focus {\n  text-decoration: none !important;\n}\n.lil-gui.closed > .title:before {\n  content: \"\";\n}\n.lil-gui.closed > .children {\n  transform: translateY(-7px);\n  opacity: 0;\n}\n.lil-gui.closed:not(.transition) > .children {\n  display: none;\n}\n.lil-gui.transition > .children {\n  transition-duration: 300ms;\n  transition-property: height, opacity, transform;\n  transition-timing-function: cubic-bezier(0.2, 0.6, 0.35, 1);\n  overflow: hidden;\n  pointer-events: none;\n}\n.lil-gui .children:empty:before {\n  content: \"Empty\";\n  padding: 0 var(--padding);\n  margin: var(--spacing) 0;\n  display: block;\n  height: var(--widget-height);\n  font-style: italic;\n  line-height: var(--widget-height);\n  opacity: 0.5;\n}\n.lil-gui.root > .children > .lil-gui > .title {\n  border: 0 solid var(--widget-color);\n  border-width: 1px 0;\n  transition: border-color 300ms;\n}\n.lil-gui.root > .children > .lil-gui.closed > .title {\n  border-bottom-color: transparent;\n}\n.lil-gui + .controller {\n  border-top: 1px solid var(--widget-color);\n  margin-top: 0;\n  padding-top: var(--spacing);\n}\n.lil-gui .lil-gui .lil-gui > .title {\n  border: none;\n}\n.lil-gui .lil-gui .lil-gui > .children {\n  border: none;\n  margin-left: var(--folder-indent);\n  border-left: 2px solid var(--widget-color);\n}\n.lil-gui .lil-gui .controller {\n  border: none;\n}\n\n.lil-gui input {\n  -webkit-tap-highlight-color: transparent;\n  border: 0;\n  outline: none;\n  font-family: var(--font-family);\n  font-size: var(--input-font-size);\n  border-radius: var(--widget-border-radius);\n  height: var(--widget-height);\n  background: var(--widget-color);\n  color: var(--text-color);\n  width: 100%;\n}\n@media (hover: hover) {\n  .lil-gui input:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui input:active {\n    background: var(--focus-color);\n  }\n}\n.lil-gui input:disabled {\n  opacity: 1;\n}\n.lil-gui input[type=text],\n.lil-gui input[type=number] {\n  padding: var(--widget-padding);\n}\n.lil-gui input[type=text]:focus,\n.lil-gui input[type=number]:focus {\n  background: var(--focus-color);\n}\n.lil-gui input::-webkit-outer-spin-button,\n.lil-gui input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n.lil-gui input[type=number] {\n  -moz-appearance: textfield;\n}\n.lil-gui input[type=checkbox] {\n  appearance: none;\n  -webkit-appearance: none;\n  height: var(--checkbox-size);\n  width: var(--checkbox-size);\n  border-radius: var(--widget-border-radius);\n  text-align: center;\n  cursor: pointer;\n}\n.lil-gui input[type=checkbox]:checked:before {\n  font-family: \"lil-gui\";\n  content: \"\";\n  font-size: var(--checkbox-size);\n  line-height: var(--checkbox-size);\n}\n@media (hover: hover) {\n  .lil-gui input[type=checkbox]:focus {\n    box-shadow: inset 0 0 0 1px var(--focus-color);\n  }\n}\n.lil-gui button {\n  -webkit-tap-highlight-color: transparent;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  color: var(--text-color);\n  width: 100%;\n  height: var(--widget-height);\n  text-transform: none;\n  background: var(--widget-color);\n  border-radius: var(--widget-border-radius);\n  border: 1px solid var(--widget-color);\n  text-align: center;\n  line-height: calc(var(--widget-height) - 4px);\n}\n@media (hover: hover) {\n  .lil-gui button:hover {\n    background: var(--hover-color);\n    border-color: var(--hover-color);\n  }\n  .lil-gui button:focus {\n    border-color: var(--focus-color);\n  }\n}\n.lil-gui button:active {\n  background: var(--focus-color);\n}\n\n@font-face {\n  font-family: \"lil-gui\";\n  src: url(\"data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAUsAAsAAAAACJwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAAH4AAADAImwmYE9TLzIAAAGIAAAAPwAAAGBKqH5SY21hcAAAAcgAAAD0AAACrukyyJBnbHlmAAACvAAAAF8AAACEIZpWH2hlYWQAAAMcAAAAJwAAADZfcj2zaGhlYQAAA0QAAAAYAAAAJAC5AHhobXR4AAADXAAAABAAAABMAZAAAGxvY2EAAANsAAAAFAAAACgCEgIybWF4cAAAA4AAAAAeAAAAIAEfABJuYW1lAAADoAAAASIAAAIK9SUU/XBvc3QAAATEAAAAZgAAAJCTcMc2eJxVjbEOgjAURU+hFRBK1dGRL+ALnAiToyMLEzFpnPz/eAshwSa97517c/MwwJmeB9kwPl+0cf5+uGPZXsqPu4nvZabcSZldZ6kfyWnomFY/eScKqZNWupKJO6kXN3K9uCVoL7iInPr1X5baXs3tjuMqCtzEuagm/AAlzQgPAAB4nGNgYRBlnMDAysDAYM/gBiT5oLQBAwuDJAMDEwMrMwNWEJDmmsJwgCFeXZghBcjlZMgFCzOiKOIFAB71Bb8AeJy1kjFuwkAQRZ+DwRAwBtNQRUGKQ8OdKCAWUhAgKLhIuAsVSpWz5Bbkj3dEgYiUIszqWdpZe+Z7/wB1oCYmIoboiwiLT2WjKl/jscrHfGg/pKdMkyklC5Zs2LEfHYpjcRoPzme9MWWmk3dWbK9ObkWkikOetJ554fWyoEsmdSlt+uR0pCJR34b6t/TVg1SY3sYvdf8vuiKrpyaDXDISiegp17p7579Gp3p++y7HPAiY9pmTibljrr85qSidtlg4+l25GLCaS8e6rRxNBmsnERunKbaOObRz7N72ju5vdAjYpBXHgJylOAVsMseDAPEP8LYoUHicY2BiAAEfhiAGJgZWBgZ7RnFRdnVJELCQlBSRlATJMoLV2DK4glSYs6ubq5vbKrJLSbGrgEmovDuDJVhe3VzcXFwNLCOILB/C4IuQ1xTn5FPilBTj5FPmBAB4WwoqAHicY2BkYGAA4sk1sR/j+W2+MnAzpDBgAyEMQUCSg4EJxAEAwUgFHgB4nGNgZGBgSGFggJMhDIwMqEAYAByHATJ4nGNgAIIUNEwmAABl3AGReJxjYAACIQYlBiMGJ3wQAEcQBEV4nGNgZGBgEGZgY2BiAAEQyQWEDAz/wXwGAAsPATIAAHicXdBNSsNAHAXwl35iA0UQXYnMShfS9GPZA7T7LgIu03SSpkwzYTIt1BN4Ak/gKTyAeCxfw39jZkjymzcvAwmAW/wgwHUEGDb36+jQQ3GXGot79L24jxCP4gHzF/EIr4jEIe7wxhOC3g2TMYy4Q7+Lu/SHuEd/ivt4wJd4wPxbPEKMX3GI5+DJFGaSn4qNzk8mcbKSR6xdXdhSzaOZJGtdapd4vVPbi6rP+cL7TGXOHtXKll4bY1Xl7EGnPtp7Xy2n00zyKLVHfkHBa4IcJ2oD3cgggWvt/V/FbDrUlEUJhTn/0azVWbNTNr0Ens8de1tceK9xZmfB1CPjOmPH4kitmvOubcNpmVTN3oFJyjzCvnmrwhJTzqzVj9jiSX911FjeAAB4nG3HMRKCMBBA0f0giiKi4DU8k0V2GWbIZDOh4PoWWvq6J5V8If9NVNQcaDhyouXMhY4rPTcG7jwYmXhKq8Wz+p762aNaeYXom2n3m2dLTVgsrCgFJ7OTmIkYbwIbC6vIB7WmFfAAAA==\") format(\"woff\");\n}`;\n\nfunction _injectStyles( cssContent ) {\n\tconst injected = document.createElement( 'style' );\n\tinjected.innerHTML = cssContent;\n\tconst before = document.querySelector( 'head link[rel=stylesheet], head style' );\n\tif ( before ) {\n\t\tdocument.head.insertBefore( injected, before );\n\t} else {\n\t\tdocument.head.appendChild( injected );\n\t}\n}\n\nlet stylesInjected = false;\n\nclass GUI {\n\n\t/**\n\t * Creates a panel that holds controllers.\n\t * @example\n\t * new GUI();\n\t * new GUI( { container: document.getElementById( 'custom' ) } );\n\t *\n\t * @param {object} [options]\n\t * @param {boolean} [options.autoPlace=true]\n\t * Adds the GUI to `document.body` and fixes it to the top right of the page.\n\t *\n\t * @param {HTMLElement} [options.container]\n\t * Adds the GUI to this DOM element. Overrides `autoPlace`.\n\t *\n\t * @param {number} [options.width=245]\n\t * Width of the GUI in pixels, usually set when name labels become too long. Note that you can make\n\t * name labels wider in CSS with `.lilgui { namewidth: 55% }`\n\t *\n\t * @param {string} [options.title=Controls]\n\t * Name to display in the title bar.\n\t *\n\t * @param {boolean} [options.injectStyles=true]\n\t * Injects the default stylesheet into the page if this is the first GUI.\n\t * Pass `false` to use your own stylesheet.\n\t *\n\t * @param {number} [options.touchStyles=true]\n\t * Makes controllers larger on touch devices. Pass `false` to disable touch styles.\n\t *\n\t * @param {GUI} [options.parent]\n\t * Adds this GUI as a child in another GUI. Usually this is done for you by `addFolder()`.\n\t *\n\t */\n\tconstructor( {\n\t\tparent,\n\t\tautoPlace = parent === undefined,\n\t\tcontainer,\n\t\twidth,\n\t\ttitle = 'Controls',\n\t\tinjectStyles = true,\n\t\ttouchStyles = true\n\t} = {} ) {\n\n\t\t/**\n\t\t * The GUI containing this folder, or `undefined` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.parent = parent;\n\n\t\t/**\n\t\t * The top level GUI containing this folder, or `this` if this is the root GUI.\n\t\t * @type {GUI}\n\t\t */\n\t\tthis.root = parent ? parent.root : this;\n\n\t\t/**\n\t\t * The list of controllers and folders contained by this GUI.\n\t\t * @type {Array<GUI|Controller>}\n\t\t */\n\t\tthis.children = [];\n\n\t\t/**\n\t\t * The list of controllers contained by this GUI.\n\t\t * @type {Array<Controller>}\n\t\t */\n\t\tthis.controllers = [];\n\n\t\t/**\n\t\t * The list of folders contained by this GUI.\n\t\t * @type {Array<GUI>}\n\t\t */\n\t\tthis.folders = [];\n\n\t\t/**\n\t\t * Used to determine if the GUI is closed. Use `gui.open()` or `gui.close()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._closed = false;\n\n\t\t/**\n\t\t * Used to determine if the GUI is hidden. Use `gui.show()` or `gui.hide()` to change this.\n\t\t * @type {boolean}\n\t\t */\n\t\tthis._hidden = false;\n\n\t\t/**\n\t\t * The outermost container element.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.domElement = document.createElement( 'div' );\n\t\tthis.domElement.classList.add( 'lil-gui' );\n\n\t\t/**\n\t\t * The DOM element that contains the title.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$title = document.createElement( 'div' );\n\t\tthis.$title.classList.add( 'title' );\n\t\tthis.$title.setAttribute( 'role', 'button' );\n\t\tthis.$title.setAttribute( 'aria-expanded', true );\n\t\tthis.$title.setAttribute( 'tabindex', 0 );\n\n\t\tthis.$title.addEventListener( 'click', () => this.openAnimated( this._closed ) );\n\t\tthis.$title.addEventListener( 'keydown', e => {\n\t\t\tif ( e.code === 'Enter' || e.code === 'Space' ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.$title.click();\n\t\t\t}\n\t\t} );\n\n\t\t// enables :active pseudo class on mobile\n\t\tthis.$title.addEventListener( 'touchstart', () => {}, { passive: true } );\n\n\t\t/**\n\t\t * The DOM element that contains children.\n\t\t * @type {HTMLElement}\n\t\t */\n\t\tthis.$children = document.createElement( 'div' );\n\t\tthis.$children.classList.add( 'children' );\n\n\t\tthis.domElement.appendChild( this.$title );\n\t\tthis.domElement.appendChild( this.$children );\n\n\t\tthis.title( title );\n\n\t\tif ( touchStyles ) {\n\t\t\tthis.domElement.classList.add( 'allow-touch-styles' );\n\t\t}\n\n\t\tif ( this.parent ) {\n\n\t\t\tthis.parent.children.push( this );\n\t\t\tthis.parent.folders.push( this );\n\n\t\t\tthis.parent.$children.appendChild( this.domElement );\n\n\t\t\t// Stop the constructor early, everything onward only applies to root GUI's\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.domElement.classList.add( 'root' );\n\n\t\t// Inject stylesheet if we haven't done that yet\n\t\tif ( !stylesInjected && injectStyles ) {\n\t\t\t_injectStyles( stylesheet );\n\t\t\tstylesInjected = true;\n\t\t}\n\n\t\tif ( container ) {\n\n\t\t\tcontainer.appendChild( this.domElement );\n\n\t\t} else if ( autoPlace ) {\n\n\t\t\tthis.domElement.classList.add( 'autoPlace' );\n\t\t\tdocument.body.appendChild( this.domElement );\n\n\t\t}\n\n\t\tif ( width ) {\n\t\t\tthis.domElement.style.setProperty( '--width', width + 'px' );\n\t\t}\n\n\t\t// Don't fire global key events while typing in the GUI:\n\t\tthis.domElement.addEventListener( 'keydown', e => e.stopPropagation() );\n\t\tthis.domElement.addEventListener( 'keyup', e => e.stopPropagation() );\n\n\t}\n\n\t/**\n\t * Adds a controller to the GUI, inferring controller type using the `typeof` operator.\n\t * @example\n\t * gui.add( object, 'property' );\n\t * gui.add( object, 'number', 0, 100, 1 );\n\t * gui.add( object, 'options', [ 1, 2, 3 ] );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number|object|Array} [$1] Minimum value for number controllers, or the set of\n\t * selectable values for a dropdown.\n\t * @param {number} [max] Maximum value for number controllers.\n\t * @param {number} [step] Step value for number controllers.\n\t * @returns {Controller}\n\t */\n\tadd( object, property, $1, max, step ) {\n\n\t\tif ( Object( $1 ) === $1 ) {\n\n\t\t\treturn new OptionController( this, object, property, $1 );\n\n\t\t}\n\n\t\tconst initialValue = object[ property ];\n\n\t\tswitch ( typeof initialValue ) {\n\n\t\t\tcase 'number':\n\n\t\t\t\treturn new NumberController( this, object, property, $1, max, step );\n\n\t\t\tcase 'boolean':\n\n\t\t\t\treturn new BooleanController( this, object, property );\n\n\t\t\tcase 'string':\n\n\t\t\t\treturn new StringController( this, object, property );\n\n\t\t\tcase 'function':\n\n\t\t\t\treturn new FunctionController( this, object, property );\n\n\t\t}\n\n\t\tconsole.error( `gui.add failed\n\tproperty:`, property, `\n\tobject:`, object, `\n\tvalue:`, initialValue );\n\n\t}\n\n\t/**\n\t * Adds a color controller to the GUI.\n\t * @example\n\t * params = {\n\t * \tcssColor: '#ff00ff',\n\t * \trgbColor: { r: 0, g: 0.2, b: 0.4 },\n\t * \tcustomRange: [ 0, 127, 255 ],\n\t * };\n\t *\n\t * gui.addColor( params, 'cssColor' );\n\t * gui.addColor( params, 'rgbColor' );\n\t * gui.addColor( params, 'customRange', 255 );\n\t *\n\t * @param {object} object The object the controller will modify.\n\t * @param {string} property Name of the property to control.\n\t * @param {number} rgbScale Maximum value for a color channel when using an RGB color. You may\n\t * need to set this to 255 if your colors are too dark.\n\t * @returns {Controller}\n\t */\n\taddColor( object, property, rgbScale = 1 ) {\n\t\treturn new ColorController( this, object, property, rgbScale );\n\t}\n\n\t/**\n\t * Adds a folder to the GUI, which is just another GUI. This method returns\n\t * the nested GUI so you can add controllers to it.\n\t * @example\n\t * const folder = gui.addFolder( 'Position' );\n\t * folder.add( position, 'x' );\n\t * folder.add( position, 'y' );\n\t * folder.add( position, 'z' );\n\t *\n\t * @param {string} title Name to display in the folder's title bar.\n\t * @returns {GUI}\n\t */\n\taddFolder( title ) {\n\t\treturn new GUI( { parent: this, title } );\n\t}\n\n\t/**\n\t * Recalls values that were saved with `gui.save()`.\n\t * @param {object} obj\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\tload( obj, recursive = true ) {\n\n\t\tif ( obj.controllers ) {\n\n\t\t\tthis.controllers.forEach( c => {\n\n\t\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\t\tc.load( obj.controllers[ c._name ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( recursive && obj.folders ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tf.load( obj.folders[ f._title ] );\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Returns an object mapping controller names to values. The object can be passed to `gui.load()` to\n\t * recall these values.\n\t * @example\n\t * {\n\t * \tcontrollers: {\n\t * \t\tprop1: 1,\n\t * \t\tprop2: 'value',\n\t * \t\t...\n\t * \t},\n\t * \tfolders: {\n\t * \t\tfolderName1: { controllers, folders },\n\t * \t\tfolderName2: { controllers, folders }\n\t * \t\t...\n\t * \t}\n\t * }\n\t *\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {object}\n\t */\n\tsave( recursive = true ) {\n\n\t\tconst obj = {\n\t\t\tcontrollers: {},\n\t\t\tfolders: {}\n\t\t};\n\n\t\tthis.controllers.forEach( c => {\n\n\t\t\tif ( c instanceof FunctionController ) return;\n\n\t\t\tif ( c._name in obj.controllers ) {\n\t\t\t\tthrow new Error( `Cannot save GUI with duplicate property \"${c._name}\"` );\n\t\t\t}\n\n\t\t\tobj.controllers[ c._name ] = c.save();\n\n\t\t} );\n\n\t\tif ( recursive ) {\n\n\t\t\tthis.folders.forEach( f => {\n\n\t\t\t\tif ( f._title in obj.folders ) {\n\t\t\t\t\tthrow new Error( `Cannot save GUI with duplicate folder \"${f._title}\"` );\n\t\t\t\t}\n\n\t\t\t\tobj.folders[ f._title ] = f.save();\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn obj;\n\n\t}\n\n\t/**\n\t * Opens a GUI or folder. GUI and folders are open by default.\n\t * @param {boolean} open Pass false to close\n\t * @returns {this}\n\t * @example\n\t * gui.open(); // open\n\t * gui.open( false ); // close\n\t * gui.open( gui._closed ); // toggle\n\t */\n\topen( open = true ) {\n\n\t\tthis._closed = !open;\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\t\tthis.domElement.classList.toggle( 'closed', this._closed );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Closes the GUI.\n\t * @returns {this}\n\t */\n\tclose() {\n\t\treturn this.open( false );\n\t}\n\n\t/**\n\t * Shows the GUI after it's been hidden.\n\t * @param {boolean} show\n\t * @returns {this}\n\t * @example\n\t * gui.show();\n\t * gui.show( false ); // hide\n\t * gui.show( gui._hidden ); // toggle\n\t */\n\tshow( show = true ) {\n\n\t\tthis._hidden = !show;\n\n\t\tthis.domElement.style.display = this._hidden ? 'none' : '';\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Hides the GUI.\n\t * @returns {this}\n\t */\n\thide() {\n\t\treturn this.show( false );\n\t}\n\n\topenAnimated( open = true ) {\n\n\t\t// set state immediately\n\t\tthis._closed = !open;\n\n\t\tthis.$title.setAttribute( 'aria-expanded', !this._closed );\n\n\t\t// wait for next frame to measure $children\n\t\trequestAnimationFrame( () => {\n\n\t\t\t// explicitly set initial height for transition\n\t\t\tconst initialHeight = this.$children.clientHeight;\n\t\t\tthis.$children.style.height = initialHeight + 'px';\n\n\t\t\tthis.domElement.classList.add( 'transition' );\n\n\t\t\tconst onTransitionEnd = e => {\n\t\t\t\tif ( e.target !== this.$children ) return;\n\t\t\t\tthis.$children.style.height = '';\n\t\t\t\tthis.domElement.classList.remove( 'transition' );\n\t\t\t\tthis.$children.removeEventListener( 'transitionend', onTransitionEnd );\n\t\t\t};\n\n\t\t\tthis.$children.addEventListener( 'transitionend', onTransitionEnd );\n\n\t\t\t// todo: this is wrong if children's scrollHeight makes for a gui taller than maxHeight\n\t\t\tconst targetHeight = !open ? 0 : this.$children.scrollHeight;\n\n\t\t\tthis.domElement.classList.toggle( 'closed', !open );\n\n\t\t\trequestAnimationFrame( () => {\n\t\t\t\tthis.$children.style.height = targetHeight + 'px';\n\t\t\t} );\n\n\t\t} );\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Change the title of this GUI.\n\t * @param {string} title\n\t * @returns {this}\n\t */\n\ttitle( title ) {\n\t\t/**\n\t\t * Current title of the GUI. Use `gui.title( 'Title' )` to modify this value.\n\t\t * @type {string}\n\t\t */\n\t\tthis._title = title;\n\t\tthis.$title.innerHTML = title;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Resets all controllers to their initial values.\n\t * @param {boolean} recursive Pass false to exclude folders descending from this GUI.\n\t * @returns {this}\n\t */\n\treset( recursive = true ) {\n\t\tconst controllers = recursive ? this.controllersRecursive() : this.controllers;\n\t\tcontrollers.forEach( c => c.reset() );\n\t\treturn this;\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI changes.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnChange( controller );\n\t\t}\n\n\t\tif ( this._onChange !== undefined ) {\n\t\t\tthis._onChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Pass a function to be called whenever a controller in this GUI has finished changing.\n\t * @param {function({object:object, property:string, value:any, controller:Controller})} callback\n\t * @returns {this}\n\t * @example\n\t * gui.onFinishChange( event => {\n\t * \tevent.object     // object that was modified\n\t * \tevent.property   // string, name of property\n\t * \tevent.value      // new value of controller\n\t * \tevent.controller // controller that was modified\n\t * } );\n\t */\n\tonFinishChange( callback ) {\n\t\t/**\n\t\t * Used to access the function bound to `onFinishChange` events. Don't modify this value\n\t\t * directly. Use the `gui.onFinishChange( callback )` method instead.\n\t\t * @type {Function}\n\t\t */\n\t\tthis._onFinishChange = callback;\n\t\treturn this;\n\t}\n\n\t_callOnFinishChange( controller ) {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent._callOnFinishChange( controller );\n\t\t}\n\n\t\tif ( this._onFinishChange !== undefined ) {\n\t\t\tthis._onFinishChange.call( this, {\n\t\t\t\tobject: controller.object,\n\t\t\t\tproperty: controller.property,\n\t\t\t\tvalue: controller.getValue(),\n\t\t\t\tcontroller\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Destroys all DOM elements and event listeners associated with this GUI\n\t */\n\tdestroy() {\n\n\t\tif ( this.parent ) {\n\t\t\tthis.parent.children.splice( this.parent.children.indexOf( this ), 1 );\n\t\t\tthis.parent.folders.splice( this.parent.folders.indexOf( this ), 1 );\n\t\t}\n\n\t\tif ( this.domElement.parentElement ) {\n\t\t\tthis.domElement.parentElement.removeChild( this.domElement );\n\t\t}\n\n\t\tArray.from( this.children ).forEach( c => c.destroy() );\n\n\t}\n\n\t/**\n\t * Returns an array of controllers contained by this GUI and its descendents.\n\t * @returns {Controller[]}\n\t */\n\tcontrollersRecursive() {\n\t\tlet controllers = Array.from( this.controllers );\n\t\tthis.folders.forEach( f => {\n\t\t\tcontrollers = controllers.concat( f.controllersRecursive() );\n\t\t} );\n\t\treturn controllers;\n\t}\n\n\t/**\n\t * Returns an array of folders contained by this GUI and its descendents.\n\t * @returns {GUI[]}\n\t */\n\tfoldersRecursive() {\n\t\tlet folders = Array.from( this.folders );\n\t\tthis.folders.forEach( f => {\n\t\t\tfolders = folders.concat( f.foldersRecursive() );\n\t\t} );\n\t\treturn folders;\n\t}\n\n}\n\nexport default GUI;\nexport { BooleanController, ColorController, Controller, FunctionController, GUI, NumberController, OptionController, StringController };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}